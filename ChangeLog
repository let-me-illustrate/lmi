// 2005 ChangeLog for "Let me illustrate...".
//
// Copyright (C) 2005 Gregory W. Chicares.
//
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License version 2 as
// published by the Free Software Foundation.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program; if not, write to the Free Software
// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
//
// http://savannah.nongnu.org/projects/lmi
// email: <chicares@cox.net>
// snail: Chicares, 186 Belle Woods Drive, Glastonbury CT 06033, USA

// $Id: ChangeLog,v 1.59 2005-05-14 14:21:14 chicares Exp $

2005-01-14

Original checkin.

2005-01-15

  actuarial_table.cpp
  crc32.cpp
  crc32_test.cpp
  data_directory.cpp
  ihs_proddata.cpp
Remove carriage returns.

  elapsed_time.cpp
  system_command.cpp
  system_command.hpp
Add missing RCS Id.

2005-01-16

  sample_cgi_census
Expunge this file, which was a disused artifact.

  build.hpp
  expected.cgi.out
  version.hpp
Add copyright and license notices and RCS Ids to these files, no
matter how trivial they seem. Now every single file in this cvs
directory has these things, creating an invariant that can be
confirmed automatically.

2005-01-27 [1092]

  quoted_gpl
  quoted_gpl_html
Add automatically-generated files for embedding the GPL in other
source, as quoted C strings and html respectively.

  GNUmakefile
  autodependency.make
  configuration.make
  msw_common.make
  msw_cygwin.make
  msw_generic.make
  msw_msys.make
  objects.make
  posix_fhs.make
  workhorse.make
Add makefiles.

2005-01-28 [1104]

Changes necessary to compile with gcc-3.4.2 with no diagnostics:

  config.hpp
  platform_dependent.hpp
Make prototypes of nonstandard functions like putenv() available even
in strict standard-conformance mode.

  GNUmakefile
  argv0.hpp
  diagnostics.sed
  miscellany.hpp
  quiet_nan.hpp
  zero.hpp
All non-configuration headers must include "config.hpp" first. Fix
those that didn't. Add a makefile test for this invariant; refine
other such tests slightly, and improve the sed script that parses
makefile output for diagnostics.

  alert.cpp
Remove a defect marker that called for investigation into a problem
whose cause has been tracked to a libstdc++ defect.

  library_demo.cpp
Don't enforce production-grade security for this mere demo.

  financial_test.cpp
Run timing test once only: it took too long with mpatrol.

  security.cpp
Flush message log on passkey validation failure.

  actuarial_table.cpp
  alert.hpp
  basic_values.hpp
  fenv_lmi.hpp
  ihs_acctval.cpp
  ihs_basicval.cpp
  ihs_funddata.hpp
  ihs_ldginvar.cpp
  input_test.cpp
  inputillus.cpp
  inputillus.hpp
  interest_rates.cpp
  ledger_xml_io.cpp
  round_to_test.cpp
  rounding_rules.hpp
  streamable.hpp
  system_command.hpp
  zero.hpp
  zero_test.cpp
Fix other problems diagnosed by gcc-3.4.2, which is stricter than
earlier versions. Use import and export declspec attributes wherever
they make sense: even though it's better not to use them with msw,
they may be useful with gcc-4.x's ELF 'visibility' feature. Remove
superfluous class-name qualifiers from members defined in class
bodies. Factor out duplicative code to manage the floating-point
environment. Other minor changes to improve conformance.

Unit tests do not yet run properly with gcc-3.4.2 and mpatrol, so that
newer compiler version can't yet replace gcc-3.2.3 for production.
However, these changes affect no gcc-3.2.3 test results.

2005-01-31 [1096]

  actuarial_table.cpp
  actuarial_table_test.cpp
  any_member_test.cpp
  cgimain.cpp
  crc32.cpp
  crc32.hpp
  financial.hpp
  generate_passkey.cpp
  ihs_acctval.cpp
  ihs_basicval.cpp
  ihs_dbvalue.cpp
  ihs_dbvalue.hpp
  ihs_funddata.cpp
  ihs_funddata.hpp
  ihs_irc7702.cpp
  ihs_irc7702.hpp
  ihs_ldginvar.cpp
  ihs_ldgvar.hpp
  ihs_ledger.cpp
  ihs_loads.cpp
  ihs_mortal.cpp
  ihs_tierdata.cpp
  input_test.cpp
  inputillus.cpp
  inputillus_sequences.cpp
  inputstatus.cpp
  inputstatus.hpp
  ledger.hpp
  main.cpp
  mathmisc.hpp
  md5.cpp
  passkey_test.cpp
  round_to.hpp
  round_to_test.cpp
  secure_date.cpp
  sigfpe.cpp
  solve.cpp
  test_tools.hpp
  workhorse.make
Use stricter gcc warnings. Fix problems indicated by stricter warnings
with gcc-3.4.2--and also with como, which is not yet fully supported.

  inputillus.cpp
Rewrite a block of suspicious code that had seemed to work properly in
the past, but failed with gcc-3.4.2 and mpatrol.

2005-02-03 [1107]

  facets.cpp
Forestall a gcc warning about a slightly unusual line of code already
documented as standard conforming.

  GNUmakefile
  workhorse.make
Use '-g' instead of '-ggdb' because of a MinGW problem documented
inline.

  materially_equal.hpp
Reformat for clarity.

  datum_base.cpp
  datum_base.hpp
  mc_enum.cpp
  mc_enum.hpp
  mc_enum.tpp
  mc_enum_fwd.hpp
  mc_enum_test.cpp
  mc_enum_test_aux.cpp
  mc_enum_test_aux.hpp
  mc_enum_test_aux_enums.hpp
  mc_enum_type_enums.hpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  numeric_io_cast.hpp
  numeric_io_test.cpp
  numeric_io_traits.hpp
  snprintf_test.cpp
  stream_cast.hpp
  stream_cast_test.cpp
  test_tools_test.cpp
  tn_range.hpp
  tn_range.tpp
  tn_range_fwd.hpp
  tn_range_test.cpp
  tn_range_test_aux.cpp
  tn_range_test_aux.hpp
  tn_range_type_trammels.hpp
  tn_range_types.cpp
  tn_range_types.hpp
Import these unit-test files from the cvs/lmi/skeleton branch.

  objects.make
Add imported unit tests.

  workhorse.make
Test idempotence of template-instantiation files, which are akin to
headers. Add test targets for the antediluvian branch's cgi-bin and
command-line interfaces.

Now, with gcc-3.4.2 and stricter warning flags: all code compiles with
no diagnostics, except for an unused-parameter warning in one boost
file; all unit tests succeed except for one in a facility slated for
replacement and one that detects standard-library conformance; and
mpatrol with default $(MPATROL_OPTIONS) issues no diagnostic for any
unit test.

  main.cpp
Number of iterations adapts to make self test take about five seconds.
Add several getopt options, implementing only a stub for regression
testing for now.

  mpatrol-mingw-GNUmakefile
Add 'install' target.

2005-02-04 [1085]

  accountvalue.cpp
  accountvalue.hpp  [expunged]
  account_value.hpp [new file]
  avdebug.cpp
  ihs_acctval.cpp
  ihs_acctval.hpp   [expunged]
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_avsolve.cpp
  ihs_avstrtgy.cpp
  ledger.hpp
  ledgervalues.cpp
  library_demo.cpp
  solve.cpp
Merge account-value headers for the antediluvian and production
branches.

  library_demo.cpp
Write crc32 output to a separate file.

2005-02-08

  dbnames.cpp
  dbnames.hpp
  dbnames.txt        [expunged]
  dbnames.xpp        [new file]
  tiername.txt       [expunged]
  tiered_charges.xpp [new file]
Replace oddly-named source files.

2005-02-12 [1070]

  cgimain.cpp
Add default catch-anything clause.

  dbdict.cpp
Add several database entities.

  expected.cgi.out
Accept changes of less than one part per million on without further
investigation, because they are observed only on a non-production
branch.

  account_value.hpp
  accountvalue.cpp
  antediluvian_stubs.cpp [new file]
  basic_values.hpp
  basicvalues.cpp
  calculate.hpp
  death_benefits.cpp     [new file]
  death_benefits.hpp     [new file]
  deathbenefits.cpp      [expunged]
  deathbenefits.hpp      [expunged]
  generate_product_files.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_avsolve.cpp
  ihs_avstrtgy.cpp
  ihs_basicval.cpp
  ihs_deathbft.cpp       [expunged]
  ihs_deathbft.hpp       [expunged]
  ihs_ldgbase.cpp        [renamed to ledger_base.cpp]
  ihs_ldgbase.hpp        [renamed to ledger_base.hpp]
  ihs_ldginvar.cpp       [renamed to ledger_invariant.cpp]
  ihs_ldginvar.hpp       [renamed to ledger_invariant.hpp]
  ihs_ldgvar.cpp         [renamed to ledger_variant.cpp]
  ihs_ldgvar.hpp         [renamed to ledger_variant.hpp]
  ihs_ledger.cpp         [renamed to ledger.cpp]
  ihs_ledger.hpp         [renamed to ledger.hpp]
  ihs_mortal.cpp
  ihs_standalone.cpp
  ihs_tierdata.cpp       [renamed to tiered_charges.cpp]
  ihs_tierdata.hpp       [renamed to tiered_charges.hpp]
  ledger.cpp             [expunged old contents, then reused name]
  ledger.hpp             [expunged old contents, then reused name]
  ledger_base.cpp        [new file]
  ledger_base.hpp        [new file]
  ledger_invariant.cpp   [new file]
  ledger_invariant.hpp   [new file]
  ledger_variant.cpp     [new file]
  ledger_variant.hpp     [new file]
  ledger_xml_io.cpp
  ledgervalues.cpp
  ledgervalues.hpp
  library_demo.cpp
  loads.cpp
  main.cpp
  mortality_rates.cpp
  multiple_cell_document.cpp
  multiple_cell_document.hpp
  objects.make
  proprietary.cpp
  solve.cpp
  tiered_charges.cpp     [new file]
  tiered_charges.hpp     [new file]
Rename ledger classes and files. Merge production branch's ledger
classes into the antediluvian branch. Rename tiered-charge classes and
files. Remove some gratuitous differences between account-value class
branches. Merge, rewrite, and rename death-benefit classes. Extend
self test in 'main.cpp'. Improve antediluvian branch's run time: even
though the production branch's ledger classes are slower, caching
table values makes solves about forty percent faster.

2005-02-13 [1072]

  objects.make
  obstruct_slicing.hpp      [new file]
  obstruct_slicing_test.cpp [new file]
Add mixin class to obstruct slicing.

  database.cpp
  database.hpp
  death_benefits.hpp
  dbdict.hpp
  dbvalue.cpp
  dbvalue.hpp
  ihs_commfns.cpp
  ihs_commfns.hpp
  ihs_database.cpp
  ihs_dbdict.hpp
  ihs_funddata.cpp
  ihs_funddata.hpp
  ihs_irc7702.cpp
  ihs_irc7702.hpp
  ihs_irc7702a.cpp
  ihs_irc7702a.hpp
  inputstatus.hpp
  ledgervalues.hpp
  multiple_cell_document.hpp
  single_cell_document.hpp
  tiered_charges.cpp
  tiered_charges.hpp
As appropriate: obstruct slicing, making the dtor nonvirtual; use
boost::noncopyable, preferring it to writing a private copy ctor and
assignment operator and documenting them as unimplemented.

  basic_values.hpp
  basicvalues.cpp
  commutation_functions_test.cpp
  generate_product_files.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_basicval.cpp
  ihs_commfns.cpp
  ihs_commfns.hpp
  ihs_funddata.cpp
  ihs_funddata.hpp
  ihs_irc7702.cpp
  ihs_irc7702.hpp
  ihs_irc7702a.cpp
  ihs_irc7702a.hpp
  ihs_server7702.cpp
  ihs_standalone.cpp
  ihs_standalone.hpp
  irc7702a_test.cpp
  ledger_invariant.cpp
  objects.make
  proprietary.cpp
Revise and rename commutation-function, fund, and 7702 and 7702A
classes.

2005-02-16 [1063]

  accountvalue.cpp
  basic_values.hpp
  basicvalues.cpp
  death_benefits.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_avsolve.cpp
  ihs_avstrtgy.cpp
  ihs_basicval.cpp
  ihs_loads.cpp
  ihs_mortal.cpp
  interest_rates.cpp
  ledger_invariant.cpp
  ledgervalues.cpp
  ledgervalues.hpp
  mortality_rates.cpp
  outlay.cpp
  solve.cpp
Use smart instead of raw pointers to hold resources in some classes,
without fixing the parallel problem in others yet. Rename certain
data members for consistency. Speed of the antediluvian command-line
test is about four percent slower; the degradation is demonstrably
attributable to removal of the hand-written assignment operator and
copy ctor in class BasicValues. The tradeoff is acceptable because
the removed code was not clearly correct, and the implicitly-defined
special member functions bring the system a step closer to exception
safety.

2005-02-16 [1059]

  ledger.cpp
  ledger.hpp
Use smart instead of raw pointers to hold resources in another class,
eliminating hand-written special member functions as above. This
change makes the antediluvian command-line test run twelve percent
faster.

2005-02-17 [1059]

  ledger.hpp
Improve documentation.

  mpatrol_patch_test.cpp
  objects.make
Demonstrate the purpose of a patch submitted to mpatrol, and verify
that it has been applied.

  cgicc-patch-gwc-20050217
Workaround to make cgicc-3.1.4 work with the free, gcc-based MinGW
toolchain on the msw platform. Oddly enough, this GNU package appears
to support that platform only with non-free tools, which lmi users
must not be required to use; the same seems to be true even of the
current release, which however seems even more difficult to compile
with the MinGW toolchain. This casual workaround is not of sufficient
quality to propose as a patch to the maintainer.

  xmlwrapp-patch-gwc-20050217
Fix some oversights and frank errors in xmlwrapp-0.2.0 . It would seem
pointless to submit this patch to the maintainer because several later
versions have been released. It will become obsolete once a later
version of xmlwrapp has been tested.

  msw_common.make
  msw_generic.make
  workhorse.make
Expect to find third-party libraries where the File Hierarchy Standard
would suggest, in /usr/local . On posix systems like GNU/Linux, this
should just work. For msw, it encourages users to adopt a rational
file hierarchy.

  workhorse.make
Add a separate build directory for gprof.

  spew_touchstone
  workhorse.make
Add a test of production-branch account values.

  workhorse.make
Strengthen warning $(CFLAGS) for unit tests.

  GNUmakefile
Prevent 'check_conformity' target from complaining that patches and
testing touchstones don't follow source-code conventions: they
shouldn't.

2005-02-18 [1059]

  GNUmakefile
Add test for current copyright date.

  getopt.cpp
  getopt.hpp
Rewrite copyright statement as 'GNUmakefile' now expects.

  mpatrol-mingw-GNUmakefile
Insert copyright statement for revisions.  

  datum_base.cpp
  datum_base.hpp
  mc_enum.cpp
  mc_enum.hpp
  mc_enum.tpp
  mc_enum_fwd.hpp
  mc_enum_test.cpp
  mc_enum_test_aux.cpp
  mc_enum_test_aux.hpp
  mc_enum_test_aux_enums.hpp
  mc_enum_type_enums.hpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  numeric_io_cast.hpp
  numeric_io_test.cpp
  numeric_io_traits.hpp
  snprintf_test.cpp
  stream_cast.hpp
  stream_cast_test.cpp
  test_tools_test.cpp
  tn_range.hpp
  tn_range.tpp
  tn_range_fwd.hpp
  tn_range_test.cpp
  tn_range_test_aux.cpp
  tn_range_test_aux.hpp
  tn_range_type_trammels.hpp
  tn_range_types.cpp
  tn_range_types.hpp
Update email address for files imported 2005-02-03.

  GNUmakefile
Fix defect: datestamp headers not correctly updated because a simply-
expanded variable's definition did not precede its every use.

2005-02-23 [1061]

  GNUmakefile
  bcc_5_5_1.make   [new file]
  como_4_3_3.make  [new file]
  config_bc551.hpp [new file]
  msw_common.make
  objects.make
  pchfile.hpp
  platform_dependent.hpp
  workhorse.make
  wx_new.cpp       [new file]
  wx_new.hpp       [new file]
  wx_new_test.cpp  [new file]
Import recent changes from skeleton branch, providing limited support
for some non-free compilers.

  msw_common.make
Remove sections marked for expunction.

2005-02-28 [1061]

  test_tools.hpp
Fix defective typeid comparison.

  alert.cpp
  alert.hpp
  alert_test.cpp
Clear stream buffer and iostate flags after an exception is caught, so
that subsequent alerts are processed correctly. Improve documentation.

  actuarial_table.cpp
Read table length as unsigned. Formerly, tables of size [2^15, 2^16)
bytes elicited a spurious diagnostic, though they were read correctly.

  ihs_proddata.cpp
Prepend directory to filename only once.

  accountvalue.cpp
Implement a hitherto-unneeded member function, to make the production
and antediluvian branches more interchangeable.

  ihs_acctval.cpp
Avoid catastrophic cancellation.

2005-03-01 [1067]

  argv0.hpp
Improve documentation.

  calculate.hpp
  library_demo.cpp
  single_cell_document.cpp
  single_cell_document.hpp
Refactor class 'single_cell_document'.

  ledgervalues.cpp
Assign default filename for monthly output.

  database.cpp
Implement a hitherto-unneeded ctor to support regression testing.

  main.cpp
Add regression testing.

  objects.make
  workhorse.make
Add command-line interface for production branch.

2005-03-02 [1060]

  fancy.make
Add experimental fancy unit-test makefile.

2005-03-07 [1051]

  ledger_xml_io.cpp
Improve documentation.

  single_cell_document.hpp
Withdraw unnecessary friendship.

  wx_new.cpp
  wx_new_test.cpp
Fix defective placement of pch header.

  account_value.hpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
Remove an unsupported report that projected values for twelve months.

2005-03-09 [1065]

  ihs_server7702io.hpp
Fix an oversight in documentation.

  copy_n_.hpp
  is_sorted_.hpp
Use uppercase 'C' in old copyright notices, as FSF recommends.

  GNUmakefile
Add a test for lowercase 'c' in copyright notices. Remove test for
the author's old email address (which has been changed in all sources
already) and add an optional, customizable facility to search for
strings that any particular contributor may wish to prevent from
appearing accidentally in files about to be committed to cvs.

  mc_enum.hpp
  mc_enum.tpp
Make str() public. Add experimental member function allowed_ordinal().

  mc_enum_type_enums.hpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp [new file]
Add enumerative types useful for life insurance.

  tn_range_type_trammels.hpp
  tn_range_types.cpp
  tn_range_types.hpp
Add range types useful for life insurance.

2005-03-10 [1165]

  about_dialog.cpp          [new file]
  about_dialog.hpp          [new file]
  alert_wx.cpp              [new file]
  any_member.hpp            [new file]
  argv0_test.cpp            [new file]
  census_document.cpp       [new file]
  census_document.hpp       [new file]
  date_control.cpp          [new file]
  date_control.hpp          [new file]
  datum_boolean.cpp         [new file]
  datum_boolean.hpp         [new file]
  datum_string.cpp          [new file]
  datum_string.hpp          [new file]
  docmanager_ex.cpp         [new file]
  docmanager_ex.hpp         [new file]
  docmdichildframe_ex.cpp   [new file]
  docmdichildframe_ex.hpp   [new file]
  illustration_document.cpp [new file]
  illustration_document.hpp [new file]
  input.cpp                 [new file]
  input.hpp                 [new file]
  lmi.rc                    [new file]
  mc_enum_types.xpp         [new file]
  menus.xrc                 [new file]
  miscellany_lmi.hpp        [new file]
  previewframe_ex.cpp       [new file]
  previewframe_ex.hpp       [new file]
  text_doc.cpp              [new file]
  text_doc.hpp              [new file]
  text_view.cpp             [new file]
  text_view.hpp             [new file]
  toolbar.xrc               [new file]
  transferor.cpp            [new file]
  transferor.hpp            [new file]
  value_cast.hpp            [new file]
  view_ex.cpp               [new file]
  view_ex.hpp               [new file]
  wx_checks.cpp             [new file]
  wx_workarounds.hpp        [new file]
Import and adapt files from skeleton branch. Add new GUI files.

  datum_base.hpp
  ihs_funddata.hpp
  mc_enum_types.xpp
Improve documentation.

  miscellany.cpp
  miscellany.hpp
  miscellany_lmi.hpp [expunged]
Merge.

2005-03-11 [1395]

  GNUmakefile
  any_member_ihs.hpp
  calculate.hpp
  configurable_settings.hpp
  docmanager_ex.hpp
  docmdichildframe_ex.hpp
  getopt.cpp
  global_settings.hpp
  ihs_avsolve.cpp
  ihs_basicval.cpp
  ihs_commfns.hpp
  ihs_irc7702.cpp
  ihs_irc7702a.cpp
  ihs_irc7702a.hpp
  irc7702a_test.cpp
  ncnnnpnn_test.cpp
Fix malformed comment markers. Add test to detect them.

  census_view.cpp
  census_view.hpp
  illustration_view.cpp
  illustration_view.hpp
  input_harmonization.cpp
  main_wx.cpp
  main_wx.hpp
  xml_notebook.cpp
  xml_notebook.hpp
  xml_notebook.xrc
Add new GUI files.

  cgimain.cpp [expunged]
  main_cgi.cpp [new file]
Rename 'cgimain.cpp' to 'main_cgi.cpp'.

  view_ex.cpp
Change main application header.

2005-03-12 [1397]

  text_doc.hpp
Mark overrides as virtual.

  value_cast.hpp
Improve documentation.

  workhorse.make
Add untested target to prevent accidental license problems.

2005-03-15 [1397]

  illustration_view.cpp
Remove obsolete comments. Improve 'calculation summary'.

  xml_notebook.xrc
Numerous improvements.

  about.xpm             [new file]
  close.xpm             [new file]
  delete-row.xpm        [new file]
  edit-case.xpm         [new file]
  edit-cell.xpm         [new file]
  edit-class.xpm        [new file]
  exit.xpm              [new file]
  fixed-width.xpm       [new file]
  help.xpm              [new file]
  insert-rows.xpm       [new file]
  new.xpm               [new file]
  open.xpm              [new file]
  paste-case.xpm        [new file]
  print-case.xpm        [new file]
  print-cell.xpm        [new file]
  print-options.xpm     [new file]
  print-preview.xpm     [new file]
  print.xpm             [new file]
  run-case.xpm          [new file]
  run-cell.xpm          [new file]
  save.xpm              [new file]
  saveas.xpm            [new file]
  varying-width.xpm     [new file]
  write_spreadsheet.xpm [new file]
Add pixmaps.

  census_view.ico       [new file]
  illustration_view.ico [new file]
  lmi.ico               [new file]
  text_view.ico         [new file]
Add icons.

  README [new file]
Add copyright, license, and derived-work notices for new graphics.

  menus.xrc
  toolbar.xrc
Use new pixmaps.

  GNUmakefile
Make sure that files embodying the GPL are created as prerequisites.
Check pixmaps for carriage returns; the documented 'xpm' format
doesn't permit embedding copyright and license notices or RCS Ids, and
they typically include tabs, so those things are not checked for.

  objects.make
  workhorse.make
Add wx target.

2005-03-16 [1403]

  input.cpp
  input_harmonization.cpp
  mc_enum.tpp
  xml_notebook.cpp
  xml_notebook.hpp
Import previously-tested GUI changes from sandbox.

2005-03-17 [1403]

  GNUmakefile
  workhorse.make
Improve 'clean' target.

  msw_common.make
  posix_fhs.make
  workhorse.make
Simplify msw builds by assuming FHS is followed.

  wx_checks.cpp
Check more wx build options.

2005-03-19 [1404]

  wx_checks.cpp
Check even more wx build options.

  transferor.cpp
  xml_notebook.xrc
Use wxDatePickerCtrl. These changes are sufficient to demonstrate that
the new control works correctly. Other changes are necessary to
coordinate the values of input entities that can be entered either as
birthdates or as attained ages.

  workhorse.make
Add 'install' target.

2005-03-21 [1404]

  GNUmakefile
Fix prerequisite of 'clobber' target.

  account_value.hpp
  census_view.cpp
  dbnames.xpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  ihs_mortal.cpp
  mortality_rates.hpp
Initial implementation of new experience-rating algorithm.

2005-03-22 [1405]

  census_view.cpp
Set experience-rating k factor to zero (not unity) when NAAR is zero.

  ihs_avmly.cpp
Remove a leftover line of debugging code.

2005-03-23 [1411]

  actuarial_table_test.cpp
  basicvalues.cpp
  como_4_3_3.make
  config.hpp
  fenv_lmi.hpp
  GNUmakefile
  ihs_fpios.cpp
  ihs_fpios.hpp
  ihs_proddata.cpp
  ihs_rnddata.cpp
  ihs_server7702.cpp
  posix_fhs.make
  round_to.hpp
  round_to_test.cpp
  workhorse.make
Improve platform independence.

  bcc_5_5_1.make
  input_harmonization.cpp
  xml_notebook.hpp
  wx_new.hpp
Avoid proprietary or platform-specific terms.

2005-03-24 [1411]

  census_view.cpp
Make IBNR a multiple of mortality charges, not of claims.

  census_view.cpp
  census_view.hpp
  census_view.ico       [expunged]
  census_view.xpm       [new file]
  illustration_view.cpp
  illustration_view.hpp
  illustration_view.ico [expunged]
  illustration_view.xpm [new file]
  menus.xrc
  text_view.cpp
  text_view.hpp
  text_view.ico         [expunged]
  text_view.xpm         [new file]
  view_ex.cpp
  view_ex.hpp
Replace msw icons with pixmaps, except for the main application icon,
which must be an '.ico' file.

2005-03-25 [1411]

  configurable_settings.cpp
  lmi.xpm [new file]
  main_cgi.cpp
  main_wx.cpp
  multiple_cell_document.cpp
  single_cell_document.cpp
Improve platform independence. Define 'USING_CURRENT_XMLWRAPP' or
'USING_CURRENT_CGICC' to use the current versions of xmlwrapp of cgicc
respectively, noting that neither has been tested with lmi yet.

  ihs_avdebug.cpp
  ihs_dbughdr.hpp
  ledger_xml_io.cpp
  ledger_variant.cpp
  ledger_variant.hpp
Remove some vestiges of the obsolete experience-rating method.

2005-03-26 [1400]

  ihs_acctval.cpp
Remove some vestiges of the obsolete experience-rating method.

  lmi.rc
Remove references to expunged '.ico' files.

  wx_checks.cpp
Permit certain wx options with glibc. Clarify reasons for excluding
certain graphics formats.

2005-03-29 [1415]

  account_value.hpp
  census_view.cpp
  ihs_acctval.cpp
Experience rating refinements. Numerator of next year's k factor is
next year's naively-projected COI charge (this year's terminal NAAR
times next year's COI rate) instead of this year's COI charges divided
by one plus this year's k factor. COI charges for experience rating
are yearly totals (without monthly interest), accumulated at an annual
interest rate, instead of a total reflecting monthly interest; while
less exquisitely precise, this is consistent with the way claims are
accumulated, and easier to reproduce from other available columns.
Solves are now explicitly prevented with experience rating: they're
inconsistent with the present parallel accumulation anyway.

  account_value.hpp
  census_view.cpp
  ihs_acctval.cpp
  ihs_avmly.cpp
Display additional information on temporary experience-rating output.

  ihs_acctval.cpp
Suppress side effects of the obsolete experience-rating method.

  xml_notebook.cpp
Add a few lines of code to XmlNotebook::ConditionallyEnableItems(),
as comments only. This represents the only known observable difference
in behavior between cvs HEAD and an offline 20050105T1130Z snapshot
that might have been a cvs branch but was never committed. It's
commented out because it depends on speculative changes elsewhere.

  dbnames.xpp
Correct a database entity's description.

  main_wx.cpp
Improve the OnExceptionInMainLoop() handler, unmasking a wx defect.

2005-03-30 [1415]

  xml_notebook.xrc
Enhance 'Funds' tab. Add 'Reports' tab. Revise 'Group' tab.

  dbnames.xpp
Correct a database entity's description.

  main_wx.cpp
Revert yesterday's change, which now seems to work, possibly due to
some unknown change in wx-2.5.4 . More testing is needed.

  account_value.hpp
  census_view.cpp
  ihs_acctval.cpp
Apportion experience reserve among individuals: even though this is
not the way it's intended to work, it's a precondition of the present
ledger classes that a composite is the weighted sum of individuals.
Suppress the test scaffolding for now unless a particular string
appears in the 'Comments' field; eventually, it'll be removed.

  ledger_xml_io.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
Add new supplemental-report columns for experience rating.

2005-03-31 [1415]

  ledger_invariant.cpp
Show supplemental-report columns on composite.

  ledger_xml_io.cpp
Permit blank columns on supplemental report.

2005-04-02 [1420]

  ledger_invariant.cpp
Initialize 'InforceLives' to zero to correct a defect. This needs to
be tested.

  workhorse.make
Improve 'install' target.

  ledger_xml_io.cpp
Document a defect that requires research.

2005-04-05 [1421]

  workhorse.make
Distinguish C from C++ warnings.

  spew_touchstone
Remove 'ExpRatRfd*' fields.

  config_all.hpp
  expm1.c                [new file]
  interest_rates.cpp
  math_functors.hpp
  math_functors_test.cpp [new file]
  objects.make
More accurate, faster interest calculations.

2005-04-06 [1427]

  mc_enum.cpp
  mc_enum.hpp
  mc_enum.tpp
Miscellaneous improvements.

  ce_product_name.cpp [new file]
  ce_product_name.hpp [new file]
  objects.make
Encapsulate product names.

  mc_enum_type_enums.hpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
Expunge old product-name enumeration.

  input.hpp
Replace old with new product-name type.

  census_view.cpp
Correct a latent defect: switch on enumerator's value instead of its
index in a set of enumerators.

  global_settings.hpp
Document a defect.

  ihs_proddata.cpp
  ihs_proddata.hpp
Remove disused member function.

  workhorse.make
Fix mpatrol problem.

  ihs_acctval.cpp
Fix reported problem.

2005-04-07 [1430]

  xenum.hpp
Improve documentation.

  como_4_3_3.make
  round_to_test.cpp
Improvements for como, which still fails some unit tests.

  config.hpp
Detect hardware platform with borland compiler.

  platform_dependent.hpp
Define access() result macro for borland compiler.

  bcc_5_5_1.make
  pchfile.hpp
Attempt only unit tests with this obsolete toolset. Accordingly,
don't attempt to precompile wx headers. Many tests fail to compile,
due in large part to the toolset's inability to cope with boost.

  obstruct_slicing_test.cpp
Prevent a nugatory warning.

  timer.hpp
Change underlying type for elapsed time, to increase portability.

  mc_enum.hpp
  mc_enum_test.cpp
Improve documentation and unit test.

  ledger_xml_io.cpp
Mark some known defects.

  mc_enum.cpp
  mc_enum.hpp
  mc_enum.tpp
  mc_enum_test.cpp
Forestall a latent defect.

  xml_notebook.xrc
Enhance 'Group' and 'Solve' tabs.

  input_harmonization.cpp
Enhance 'SurviveToType' enablement.

  workhorse.make
Add experimental regression-test target.

2005-04-09 [1431]

  ce_product_name.hpp
Improve documentation.

  ihs_dbdict.cpp
Enable experience rating for sample product.

  fenv_lmi.cpp [new file]
  fenv_lmi.hpp
  objects.make
Factor out and improve floating-point-environment management, as is
required for product-file generation.

  generate_product_files.cpp
  objects.make
  workhorse.make
Program to generate product files.

  my_db.cpp   [new file]
  my_fund.cpp [new file]
  my_prod.cpp [new file]
  my_rnd.cpp  [new file]
  my_tier.cpp [new file]
Templates for creating product-file programs.

2005-04-10 [1433]

  tiered_charges.xpp
Improve descriptions.

  tiered_charges.cpp
Simplify defaults.

  my_tier.cpp
Simplify.

  proprietary.cpp [expunged]
Expunge disused file.

  objects.make
Remove duplicate target and references to 'proprietary.cpp'.

  generate_product_files.cpp
  ihs_dbdict.cpp
  ihs_funddata.cpp
  ihs_proddata.cpp
  ihs_rnddata.cpp
  tiered_charges.cpp
Call 'proprietary' functions directly. Calling a shared-library
function that called them indirectly prevented overriding their
implementations.

  dbdict.hpp
  ihs_dbdict.hpp
Move inline functions out of class body. Remove a disused function.

  ledger.hpp
Improve documentation.

  main.cpp
Use 'alert' facility as appropriate.

  ledgervalues.cpp
  main.cpp
Add temporary testing code, suppressing a failing test for the moment.

  workhorse.make
Don't echo regression-test commands.

  accountvalue.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  library_demo.cpp
Improve handling of monthly-values filename. Initialize it in ctor
instead of initializing it haphazardly and signaling an error
downstream if it never got initialized.

  ledgervalues.cpp
  ledgervalues.hpp
  main.cpp
Emit monthly values for regression-test cases that require them.

2005-04-11 [1431]

  fenv_lmi.cpp
Remove a gratuitous dependency.

  ihs_avmly.cpp
Adjust COI rate for k factor only on current-mortality basis; round
the adjusted COI rate.

  ihs_acctval.cpp
Reimplement net-claims calculation.

  inputs.cpp
Set new default: survive to age 99. Because coverage beyond maturity
is not illustrated, at least for now, this is the most reasonable
default for a composite. It has no effect on individual illustrations.

2005-04-13 [1429]

  input_harmonization.cpp
  xml_notebook.xrc
Fix some problems with solve inputs.

  ledger.cpp
Improve an error message.

2005-04-14 [1429]

  census_view.cpp
  census_view.hpp
  ledgervalues.cpp
  ledgervalues.hpp
  main.cpp
Consolidate and refactor filename generation.

2005-04-15 [1447]

  calculate.hpp
  census_document.cpp
  main.cpp
  multiple_cell_document.cpp
  multiple_cell_document.hpp
Revise class multiple_cell_document. Rename members. Add accessors.
Change dependent code elsewhere.

  ihs_acctval.cpp
Apportion mortality reserve only on current-mortality basis.

  accountvalue.cpp
Add stubs for member functions not implemented on the antediluvian
branch.

  account_value.hpp
  group_values.cpp [new file]
  group_values.hpp [new file]
  ledgervalues.cpp
  ledgervalues.hpp
  main.cpp
Revise and move group-values code, distinguishing parallel from serial
accumulation.

2005-04-17 [1446]

  group_values.cpp
  group_values.hpp
  main.cpp
Make 'RunCensusInSeries' a function object.

2005-04-19 [1448]

  objects.make
  progress_meter.cpp      [new file]
  progress_meter.hpp      [new file]
  progress_meter_cli.cpp  [new file]
  progress_meter_cli.hpp  [new file]
  progress_meter_test.cpp [new file]
Add progress_meter class and unit test.

  progress_meter.hpp
  progress_meter_test.cpp
Default 'title' argument to an empty string.

  progress_meter.cpp
Throw an exception if function pointer assigned more than once.

  progress_meter_cli.cpp
  progress_meter_cli.hpp [expunged]
  progress_meter_test.cpp
Subsume concrete-class declaration into the implementation file, in an
anonymous namespace, to improve encapsulation. Consequently, fewer
files are needed, and all concrete implementations can share the same
name, because only one may ever be defined.

  ledger_invariant.cpp
  ledger_xml_io.cpp
Add experimental 'spreadsheet' output facility. Printing or previewing
a composite creates a tab-delimited file of all values potentially
available for output columns, iff the 'Comments' field at the case
level contains the string 'idiosyncrasy_spreadsheet'.

2005-04-20 [1448]

  illustration_view.cpp
Improve documentation.

  progress_meter.cpp
  progress_meter.hpp
Add protected accessor for maximum count.

  progress_meter_cli.cpp
Print title.

  progress_meter_cli.cpp
Make concrete_progress_meter virtuals private.

  progress_meter_cgi.cpp
  progress_meter_wx.cpp
Implement progress meter for additional interfaces.

  census_view.cpp
  group_values.cpp
  objects.make
Use progress meter for both old and new group-values code.

2005-04-21 [1426]

  objects.make
  timer_test.cpp [new file]

Add unit test for class Timer.

  timer.cpp
  timer.hpp
  timer_test.cpp
Revert 2005-04-07T15:05:40Z change, which had incorrectly quadrupled
reported times. Improve documentation, interface, implementation, and
unit test.

  calculate.hpp
  commutation_functions_test.cpp
  illustration_view.cpp
  input.cpp
  library_demo.cpp
  main.cpp
  timer.cpp
  timer.hpp
Simplify and improve class Timer.

  group_values.cpp
  group_values.hpp
Factor out report generation.

  census_view.cpp
  group_values.cpp
  ihs_basicval.cpp
  illustration_view.cpp
  input_harmonization.cpp
  main_cgi.cpp
  main_wx.cpp
  main_wx.hpp
  text_view.cpp
  text_view.hpp
  xml_notebook.hpp
Expunge many things previously marked for expunction.

2005-04-22 [1430]

  ihs_acctval.cpp
Fix an error: experience-rating reserve was calculated correctly, but
posted incorrectly to the output ledger.

  ledger_xml_io.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
Add column: forborne experience-rating reserve.

2005-04-23 [1431]

  input.cpp
  input.hpp
  input_harmonization.cpp
  inputillus.cpp
  inputs.cpp
  inputs.hpp
  xml_notebook.xrc
Add new input fields for experience rating.

  census_view.cpp
  group_values.cpp
Use new input fields for experience rating.

2005-04-25 [1431]

  ledger_xml_io.cpp
Change a column title.

  progress_meter.hpp
Experiment with doxygen tags.

2005-04-28 [1431]

  configurable_settings.cpp
  configurable_settings.hpp
Add several settings.

2005-04-29 [1431]

  objects.make
  path_utility.cpp      [new file]
  path_utility.hpp      [new file]
  path_utility_test.cpp [new file]
Add path-utility functions and unit tests.

  ledger_xsl.cpp [new file]
  ledger_xsl.hpp [new file]
  objects.make
Factor pdf creation out of gui.

2005-04-30 [1434]

  census_view.cpp
  ihs_basicval.cpp
  interest_rates.cpp
  ledger_xsl.cpp
  ledger.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
  xenumtypes.cpp
  xenumtypes.hpp
Expunge disused prospectus ledger type.

  ledger_xsl.cpp
  ledger.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
  xenumtypes.cpp
  xenumtypes.hpp
Expunge disused illustration-reg private-placement ledger type.
Change strings associated with ledger-type datatypes.

  inputs.cpp
  inputs.hpp
Add member function to determine ledger type.

  basicvalues.cpp
  calculate.hpp
  census_view.cpp
  ihs_basicval.cpp
  illustration_view.cpp
  interest_rates.cpp
  ledger_xsl.cpp
  main.cpp
Simplify and improve ledger-type determination.

  path_utility.cpp
  path_utility_test.cpp
Improve documentation.

  census_view.cpp
  illustration_view.cpp
  illustration_view.hpp
Factor html formatting out of GUI class.

  illustration_view.cpp
  illustration_view.hpp
Factor special report out of GUI class.

  census_view.cpp
  illustration_view.cpp
  illustration_view.hpp
  ledger_text_formats.cpp [new file]
  ledger_text_formats.hpp [new file]
  objects.make
Move ledger text formatting to new location.

  census_view.cpp
  census_view.hpp
  group_values.cpp
  group_values.hpp
  illustration_view.cpp
  illustration_view.hpp
  path_utility.cpp
  path_utility.hpp
  view_ex.cpp
  view_ex.hpp
Refactor filename functions.

2005-05-01 [1431]

  configurable_settings.cpp
Explicitly initialize all data members.

  como_4_3_3.make
Improve documentation.

  group_values.cpp
  illustration_view.cpp
  ledger_xsl.cpp
  ledger_xsl.hpp
  view_ex.cpp
Use new ledger-formatting facilities.

  argv0_test.cpp
Improve unit test.

  ihs_crc_comp.cpp
Temporary workaround to ignore fund-name changes.

2005-05-02 [1400]

  GNUmakefile
  workhorse.make
Improve regression-test automation.

  census_view.cpp
  group_values.cpp
  ledger_xml_io.cpp
Improve platform independence.

  group_values.cpp
Rename some local variables.

  ledger_variant.cpp
Remove a meaningless comment.

  ledger_xsl.cpp
Rename a local variable to avoid an implicit suggestion that this
program depends on apache fop. Any xsl-fo implementation may be used;
it's pluggable to avoid the conflict between apache and FSF licenses.

  account_value.hpp
  census_view.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
Remove dead code.

2005-05-03 [1400]

  account_value.hpp
  census_view.cpp
  census_view.hpp
  census_view_obsolete.cpp [new file]
  group_values.cpp
  group_values.hpp
  main.cpp
Improve group-values code. Factor obsolete group-values code out of
GUI into a new file that is to be expunged with celerity.

2005-05-05 [1371]

  account_value.hpp
  accountvalue.cpp
  census_view.cpp
  census_view.hpp
  census_view_obsolete.cpp [expunged]
  group_values.cpp
  group_values.hpp
  ihs_acctval.cpp
Simplify; remove dead code.

  census_view.hpp
Remove obsolete comment.

  group_values.cpp
  group_values.hpp
Refactor.

2005-05-06 [1347]

  workhorse.make
Improve automation.

  dbdict.cpp
  dbnames.hpp
  dbnames.xpp
  ihs_dbdict.cpp
Add 'ExpRatAmortPeriod' entity: experience-rating amortization period.

  account_value.hpp
  accountvalue.cpp
  ihs_acctval.cpp
Add accessors for experience-rating database entities, so that the
group-values code can be decoupled from the database.

  group_values.cpp
Simplify and improve.

  census_view.cpp
Remove dead code and obsolete comments.

  group_values.hpp
  ihs_acctval.cpp
Remove obsolete comments.

  main.cpp
Improve documentation of a defect.

  group_values.cpp
  ihs_avmly.cpp
Improve documentation. Redefine 'k factor' to be a multiplicative
factor, instead of a quantity added to one to produce such a factor.

  group_values.cpp
Remove an obsolete comment.

  census_view.cpp
Document a defect.

  account_value.hpp
Withdraw unneeded friendship; remove a disused member.

  ihs_avmly.cpp
  ihs_basicval.cpp
  input_harmonization.cpp
  inputillus_sequences.cpp
Extirpate otiose drek.

2005-05-07 [1346]

  comma_punct.hpp      [new file]
  comma_punct_test.cpp [new file]
  ledger_text_formats.cpp
  ledger_xml_io.cpp
  objects.make
Punctuate numbers with commas.

2005-05-08 [1346]

  configurable_settings.cpp
  configurable_settings.hpp
Improve FHS conformance.

  library_demo.cpp [expunged]
  spew_touchstone  [expunged]
  workhorse.make
Expunge shared_demo, static_demo, and av_tests targets: they're
superseded by more powerful regression tests. Experimentally add
distinct wx targets that link to the common lmi library statically
and dynamically.

  account_value.hpp
  group_values.cpp
  illustration_view.cpp
  illustration_view.hpp
  ledgervalues.cpp
  ledgervalues.hpp
  library_demo.cpp
  solve.cpp
Used shared_ptr instead of scoped_ptr or auto_ptr for ledgers.

  census_view.cpp
  census_view.hpp
  illustration_view.cpp
  illustration_view.hpp
Refactor composite summary display.

2005-05-11 [1346]

  account_value.hpp
  comma_punct.hpp
Improve documentation.

  argv0_test.cpp
Remove unneeded headers.

  callback.hpp      [new file]
  callback_test.cpp [new file]
  objects.make
Generalize shared-library callbacks.

2005-05-12 [1346]

  census_view.cpp
Improve documentation.

  file_command.cpp     [new file]
  file_command.hpp     [new file]
  file_command_cgi.cpp [new file]
  file_command_cli.cpp [new file]
  file_command_wx.cpp  [new file]
  group_values.cpp
  illustration_view.cpp
  objects.make
Run a command against a file, respecting its extension. Factor the
implementation out of the illustration-view class and into the new
file-command class; use it for groups as well as individuals.

2005-05-13 [1345]

  file_command.cpp
  file_command.hpp
Improve encapsulation.

  census_view.cpp
  census_view.hpp
  group_values.cpp
  group_values.hpp
  illustration_view.cpp
  illustration_view.hpp
Use shared_ptr to avoid copying ledgers.

  account_value.hpp
  calculate.hpp
  ledgervalues.cpp
  ledgervalues.hpp
Refactor to achieve constness for shared_ptr to ledger.

  main.cpp
Refactor, removing a defective and pointless line.

  main_cli.cpp [new file]
  objects.make
Rename 'main.cpp' to 'main_cli.cpp' because it implements main() for
the command-line interface only.

  main_wx.cpp
Refactor, removing a defective and pointless line.

2005-05-14 [1343]

  census_view.cpp
Add generic clipboard implementation by <vadim@tt-solutions.com>.

  main_cgi.cpp
Refactor, removing a defective and pointless line.


