// 2005 ChangeLog for "Let me illustrate...". See 'MAINTENANCE' after license.
//
// Copyright (C) 2005 Gregory W. Chicares.
//
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License version 2 as
// published by the Free Software Foundation.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program; if not, write to the Free Software
// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
//
// http://savannah.nongnu.org/projects/lmi
// email: <chicares@cox.net>
// snail: Chicares, 186 Belle Woods Drive, Glastonbury CT 06033, USA

// $Id: ChangeLog,v 1.274 2005-12-16 13:14:52 chicares Exp $

MAINTENANCE

Please write entries this way:

[1] YYYYMMDDTHHMMZ <yourname@domain.net> [defect-count]
[2] [this line intentionally left blank]
[3]   filename0
[4]   filename1
[5] Your comments.

Explanations:

[1] Write an ISO 8601 timestamp, using UTC because it sorts easily.
Run 'make check_conformity' before committing to cvs. It identifies
common problems, e.g., incorrect copyright statements. It reports the
"Number of marked defects" shown as [defect-count] above.

[3] Exact name of file changed, indented two spaces.
[4] Write each file's name on a separate line. Write them in
alphabetical order.

[5] We aren't exactly following GNU standards here, but this one makes
a lot of sense:
  "If you think that a change calls for explanation, you're probably
  right. Please do explain it--but please put the explanation in
  comments in the code, where people will see it whenever they see the
  code."
If, as is often the case, the cvs commit message alone is sufficient,
then just copy it here.

We started following this convention only on 20050710T0414Z, so don't
take earlier entries as exemplary.

//

2005-01-14

Original checkin.

2005-01-15

  actuarial_table.cpp
  crc32.cpp
  crc32_test.cpp
  data_directory.cpp
  ihs_proddata.cpp
Remove carriage returns.

  elapsed_time.cpp
  system_command.cpp
  system_command.hpp
Add missing RCS Id.

2005-01-16

  sample_cgi_census
Expunge this file, which was a disused artifact.

  build.hpp
  expected.cgi.out
  version.hpp
Add copyright and license notices and RCS Ids to these files, no
matter how trivial they seem. Now every single file in this cvs
directory has these things, creating an invariant that can be
confirmed automatically.

2005-01-27 [1092]

  quoted_gpl
  quoted_gpl_html
Add automatically-generated files for embedding the GPL in other
source, as quoted C strings and html respectively.

  GNUmakefile
  autodependency.make
  configuration.make
  msw_common.make
  msw_cygwin.make
  msw_generic.make
  msw_msys.make
  objects.make
  posix_fhs.make
  workhorse.make
Add makefiles.

2005-01-28 [1104]

Changes necessary to compile with gcc-3.4.2 with no diagnostics:

  config.hpp
  platform_dependent.hpp
Make prototypes of nonstandard functions like putenv() available even
in strict standard-conformance mode.

  GNUmakefile
  argv0.hpp
  diagnostics.sed
  miscellany.hpp
  quiet_nan.hpp
  zero.hpp
All non-configuration headers must include "config.hpp" first. Fix
those that didn't. Add a makefile test for this invariant; refine
other such tests slightly, and improve the sed script that parses
makefile output for diagnostics.

  alert.cpp
Remove a defect marker that called for investigation into a problem
whose cause has been tracked to a libstdc++ defect.

  library_demo.cpp
Don't enforce production-grade security for this mere demo.

  financial_test.cpp
Run timing test once only: it took too long with mpatrol.

  security.cpp
Flush message log on passkey validation failure.

  actuarial_table.cpp
  alert.hpp
  basic_values.hpp
  fenv_lmi.hpp
  ihs_acctval.cpp
  ihs_basicval.cpp
  ihs_funddata.hpp
  ihs_ldginvar.cpp
  input_test.cpp
  inputillus.cpp
  inputillus.hpp
  interest_rates.cpp
  ledger_xml_io.cpp
  round_to_test.cpp
  rounding_rules.hpp
  streamable.hpp
  system_command.hpp
  zero.hpp
  zero_test.cpp
Fix other problems diagnosed by gcc-3.4.2, which is stricter than
earlier versions. Use import and export declspec attributes wherever
they make sense: even though it's better not to use them with msw,
they may be useful with gcc-4.x's ELF 'visibility' feature. Remove
superfluous class-name qualifiers from members defined in class
bodies. Factor out duplicative code to manage the floating-point
environment. Other minor changes to improve conformance.

Unit tests do not yet run properly with gcc-3.4.2 and mpatrol, so that
newer compiler version can't yet replace gcc-3.2.3 for production.
However, these changes affect no gcc-3.2.3 test results.

2005-01-31 [1096]

  actuarial_table.cpp
  actuarial_table_test.cpp
  any_member_test.cpp
  cgimain.cpp
  crc32.cpp
  crc32.hpp
  financial.hpp
  generate_passkey.cpp
  ihs_acctval.cpp
  ihs_basicval.cpp
  ihs_dbvalue.cpp
  ihs_dbvalue.hpp
  ihs_funddata.cpp
  ihs_funddata.hpp
  ihs_irc7702.cpp
  ihs_irc7702.hpp
  ihs_ldginvar.cpp
  ihs_ldgvar.hpp
  ihs_ledger.cpp
  ihs_loads.cpp
  ihs_mortal.cpp
  ihs_tierdata.cpp
  input_test.cpp
  inputillus.cpp
  inputillus_sequences.cpp
  inputstatus.cpp
  inputstatus.hpp
  ledger.hpp
  main.cpp
  mathmisc.hpp
  md5.cpp
  passkey_test.cpp
  round_to.hpp
  round_to_test.cpp
  secure_date.cpp
  sigfpe.cpp
  solve.cpp
  test_tools.hpp
  workhorse.make
Use stricter gcc warnings. Fix problems indicated by stricter warnings
with gcc-3.4.2--and also with como, which is not yet fully supported.

  inputillus.cpp
Rewrite a block of suspicious code that had seemed to work properly in
the past, but failed with gcc-3.4.2 and mpatrol.

2005-02-03 [1107]

  facets.cpp
Forestall a gcc warning about a slightly unusual line of code already
documented as standard conforming.

  GNUmakefile
  workhorse.make
Use '-g' instead of '-ggdb' because of a MinGW problem documented
inline.

  materially_equal.hpp
Reformat for clarity.

  datum_base.cpp
  datum_base.hpp
  mc_enum.cpp
  mc_enum.hpp
  mc_enum.tpp
  mc_enum_fwd.hpp
  mc_enum_test.cpp
  mc_enum_test_aux.cpp
  mc_enum_test_aux.hpp
  mc_enum_test_aux_enums.hpp
  mc_enum_type_enums.hpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  numeric_io_cast.hpp
  numeric_io_test.cpp
  numeric_io_traits.hpp
  snprintf_test.cpp
  stream_cast.hpp
  stream_cast_test.cpp
  test_tools_test.cpp
  tn_range.hpp
  tn_range.tpp
  tn_range_fwd.hpp
  tn_range_test.cpp
  tn_range_test_aux.cpp
  tn_range_test_aux.hpp
  tn_range_type_trammels.hpp
  tn_range_types.cpp
  tn_range_types.hpp
Import these unit-test files from the cvs/lmi/skeleton branch.

  objects.make
Add imported unit tests.

  workhorse.make
Test idempotence of template-instantiation files, which are akin to
headers. Add test targets for the antediluvian branch's cgi-bin and
command-line interfaces.

Now, with gcc-3.4.2 and stricter warning flags: all code compiles with
no diagnostics, except for an unused-parameter warning in one boost
file; all unit tests succeed except for one in a facility slated for
replacement and one that detects standard-library conformance; and
mpatrol with default $(MPATROL_OPTIONS) issues no diagnostic for any
unit test.

  main.cpp
Number of iterations adapts to make self test take about five seconds.
Add several getopt options, implementing only a stub for regression
testing for now.

  mpatrol-mingw-GNUmakefile
Add 'install' target.

2005-02-04 [1085]

  account_value.hpp [new file]
  accountvalue.cpp
  accountvalue.hpp  [expunged]
  avdebug.cpp
  ihs_acctval.cpp
  ihs_acctval.hpp   [expunged]
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_avsolve.cpp
  ihs_avstrtgy.cpp
  ledger.hpp
  ledgervalues.cpp
  library_demo.cpp
  solve.cpp
Merge account-value headers for the antediluvian and production
branches.

  library_demo.cpp
Write crc32 output to a separate file.

2005-02-08

  dbnames.cpp
  dbnames.hpp
  dbnames.txt        [expunged]
  dbnames.xpp        [new file]
  tiername.txt       [expunged]
  tiered_charges.xpp [new file]
Replace oddly-named source files.

2005-02-12 [1070]

  cgimain.cpp
Add default catch-anything clause.

  dbdict.cpp
Add several database entities.

  expected.cgi.out
Accept changes of less than one part per million on without further
investigation, because they are observed only on a non-production
branch.

  account_value.hpp
  accountvalue.cpp
  antediluvian_stubs.cpp [new file]
  basic_values.hpp
  basicvalues.cpp
  calculate.hpp
  death_benefits.cpp     [new file]
  death_benefits.hpp     [new file]
  deathbenefits.cpp      [expunged]
  deathbenefits.hpp      [expunged]
  generate_product_files.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_avsolve.cpp
  ihs_avstrtgy.cpp
  ihs_basicval.cpp
  ihs_deathbft.cpp       [expunged]
  ihs_deathbft.hpp       [expunged]
  ihs_ldgbase.cpp        [renamed to ledger_base.cpp]
  ihs_ldgbase.hpp        [renamed to ledger_base.hpp]
  ihs_ldginvar.cpp       [renamed to ledger_invariant.cpp]
  ihs_ldginvar.hpp       [renamed to ledger_invariant.hpp]
  ihs_ldgvar.cpp         [renamed to ledger_variant.cpp]
  ihs_ldgvar.hpp         [renamed to ledger_variant.hpp]
  ihs_ledger.cpp         [renamed to ledger.cpp]
  ihs_ledger.hpp         [renamed to ledger.hpp]
  ihs_mortal.cpp
  ihs_standalone.cpp
  ihs_tierdata.cpp       [renamed to tiered_charges.cpp]
  ihs_tierdata.hpp       [renamed to tiered_charges.hpp]
  ledger.cpp             [expunged old contents, then reused name]
  ledger.hpp             [expunged old contents, then reused name]
  ledger_base.cpp        [new file]
  ledger_base.hpp        [new file]
  ledger_invariant.cpp   [new file]
  ledger_invariant.hpp   [new file]
  ledger_variant.cpp     [new file]
  ledger_variant.hpp     [new file]
  ledger_xml_io.cpp
  ledgervalues.cpp
  ledgervalues.hpp
  library_demo.cpp
  loads.cpp
  main.cpp
  mortality_rates.cpp
  multiple_cell_document.cpp
  multiple_cell_document.hpp
  objects.make
  proprietary.cpp
  solve.cpp
  tiered_charges.cpp     [new file]
  tiered_charges.hpp     [new file]
Rename ledger classes and files. Merge production branch's ledger
classes into the antediluvian branch. Rename tiered-charge classes and
files. Remove some gratuitous differences between account-value class
branches. Merge, rewrite, and rename death-benefit classes. Extend
self test in 'main.cpp'. Improve antediluvian branch's run time: even
though the production branch's ledger classes are slower, caching
table values makes solves about forty percent faster.

2005-02-13 [1072]

  objects.make
  obstruct_slicing.hpp      [new file]
  obstruct_slicing_test.cpp [new file]
Add mixin class to obstruct slicing.

  database.cpp
  database.hpp
  death_benefits.hpp
  dbdict.hpp
  dbvalue.cpp
  dbvalue.hpp
  ihs_commfns.cpp
  ihs_commfns.hpp
  ihs_database.cpp
  ihs_dbdict.hpp
  ihs_funddata.cpp
  ihs_funddata.hpp
  ihs_irc7702.cpp
  ihs_irc7702.hpp
  ihs_irc7702a.cpp
  ihs_irc7702a.hpp
  inputstatus.hpp
  ledgervalues.hpp
  multiple_cell_document.hpp
  single_cell_document.hpp
  tiered_charges.cpp
  tiered_charges.hpp
As appropriate: obstruct slicing, making the dtor nonvirtual; use
boost::noncopyable, preferring it to writing a private copy ctor and
assignment operator and documenting them as unimplemented.

  basic_values.hpp
  basicvalues.cpp
  commutation_functions_test.cpp
  generate_product_files.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_basicval.cpp
  ihs_commfns.cpp
  ihs_commfns.hpp
  ihs_funddata.cpp
  ihs_funddata.hpp
  ihs_irc7702.cpp
  ihs_irc7702.hpp
  ihs_irc7702a.cpp
  ihs_irc7702a.hpp
  ihs_server7702.cpp
  ihs_standalone.cpp
  ihs_standalone.hpp
  irc7702a_test.cpp
  ledger_invariant.cpp
  objects.make
  proprietary.cpp
Revise and rename commutation-function, fund, and 7702 and 7702A
classes.

2005-02-16 [1063]

  accountvalue.cpp
  basic_values.hpp
  basicvalues.cpp
  death_benefits.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_avsolve.cpp
  ihs_avstrtgy.cpp
  ihs_basicval.cpp
  ihs_loads.cpp
  ihs_mortal.cpp
  interest_rates.cpp
  ledger_invariant.cpp
  ledgervalues.cpp
  ledgervalues.hpp
  mortality_rates.cpp
  outlay.cpp
  solve.cpp
Use smart instead of raw pointers to hold resources in some classes,
without fixing the parallel problem in others yet. Rename certain
data members for consistency. Speed of the antediluvian command-line
test is about four percent slower; the degradation is demonstrably
attributable to removal of the hand-written assignment operator and
copy ctor in class BasicValues. The tradeoff is acceptable because
the removed code was not clearly correct, and the implicitly-defined
special member functions bring the system a step closer to exception
safety.

2005-02-16 [1059]

  ledger.cpp
  ledger.hpp
Use smart instead of raw pointers to hold resources in another class,
eliminating hand-written special member functions as above. This
change makes the antediluvian command-line test run twelve percent
faster.

2005-02-17 [1059]

  ledger.hpp
Improve documentation.

  mpatrol_patch_test.cpp
  objects.make
Demonstrate the purpose of a patch submitted to mpatrol, and verify
that it has been applied.

  cgicc-patch-gwc-20050217
Workaround to make cgicc-3.1.4 work with the free, gcc-based MinGW
toolchain on the msw platform. Oddly enough, this GNU package appears
to support that platform only with non-free tools, which lmi users
must not be required to use; the same seems to be true even of the
current release, which however seems even more difficult to compile
with the MinGW toolchain. This casual workaround is not of sufficient
quality to propose as a patch to the maintainer.

  xmlwrapp-patch-gwc-20050217
Fix some oversights and frank errors in xmlwrapp-0.2.0 . It would seem
pointless to submit this patch to the maintainer because several later
versions have been released. It will become obsolete once a later
version of xmlwrapp has been tested.

  msw_common.make
  msw_generic.make
  workhorse.make
Expect to find third-party libraries where the File Hierarchy Standard
would suggest, in /usr/local . On posix systems like GNU/Linux, this
should just work. For msw, it encourages users to adopt a rational
file hierarchy.

  workhorse.make
Add a separate build directory for gprof.

  spew_touchstone
  workhorse.make
Add a test of production-branch account values.

  workhorse.make
Strengthen warning $(CFLAGS) for unit tests.

  GNUmakefile
Prevent 'check_conformity' target from complaining that patches and
testing touchstones don't follow source-code conventions: they
shouldn't.

2005-02-18 [1059]

  GNUmakefile
Add test for current copyright date.

  getopt.cpp
  getopt.hpp
Rewrite copyright statement as 'GNUmakefile' now expects.

  mpatrol-mingw-GNUmakefile
Insert copyright statement for revisions.

  datum_base.cpp
  datum_base.hpp
  mc_enum.cpp
  mc_enum.hpp
  mc_enum.tpp
  mc_enum_fwd.hpp
  mc_enum_test.cpp
  mc_enum_test_aux.cpp
  mc_enum_test_aux.hpp
  mc_enum_test_aux_enums.hpp
  mc_enum_type_enums.hpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  numeric_io_cast.hpp
  numeric_io_test.cpp
  numeric_io_traits.hpp
  snprintf_test.cpp
  stream_cast.hpp
  stream_cast_test.cpp
  test_tools_test.cpp
  tn_range.hpp
  tn_range.tpp
  tn_range_fwd.hpp
  tn_range_test.cpp
  tn_range_test_aux.cpp
  tn_range_test_aux.hpp
  tn_range_type_trammels.hpp
  tn_range_types.cpp
  tn_range_types.hpp
Update email address for files imported 2005-02-03.

  GNUmakefile
Fix defect: datestamp headers not correctly updated because a simply-
expanded variable's definition did not precede its every use.

2005-02-23 [1061]

  GNUmakefile
  bcc_5_5_1.make   [new file]
  como_4_3_3.make  [new file]
  config_bc551.hpp [new file]
  msw_common.make
  objects.make
  pchfile.hpp
  platform_dependent.hpp
  workhorse.make
  wx_new.cpp       [new file]
  wx_new.hpp       [new file]
  wx_new_test.cpp  [new file]
Import recent changes from skeleton branch, providing limited support
for some non-free compilers.

  msw_common.make
Remove sections marked for expunction.

2005-02-28 [1061]

  test_tools.hpp
Fix defective typeid comparison.

  alert.cpp
  alert.hpp
  alert_test.cpp
Clear stream buffer and iostate flags after an exception is caught, so
that subsequent alerts are processed correctly. Improve documentation.

  actuarial_table.cpp
Read table length as unsigned. Formerly, tables of size [2^15, 2^16)
bytes elicited a spurious diagnostic, though they were read correctly.

  ihs_proddata.cpp
Prepend directory to filename only once.

  accountvalue.cpp
Implement a hitherto-unneeded member function, to make the production
and antediluvian branches more interchangeable.

  ihs_acctval.cpp
Avoid catastrophic cancellation.

2005-03-01 [1067]

  argv0.hpp
Improve documentation.

  calculate.hpp
  library_demo.cpp
  single_cell_document.cpp
  single_cell_document.hpp
Refactor class 'single_cell_document'.

  ledgervalues.cpp
Assign default filename for monthly output.

  database.cpp
Implement a hitherto-unneeded ctor to support regression testing.

  main.cpp
Add regression testing.

  objects.make
  workhorse.make
Add command-line interface for production branch.

2005-03-02 [1060]

  fancy.make
Add experimental fancy unit-test makefile.

2005-03-07 [1051]

  ledger_xml_io.cpp
Improve documentation.

  single_cell_document.hpp
Withdraw unnecessary friendship.

  wx_new.cpp
  wx_new_test.cpp
Fix defective placement of pch header.

  account_value.hpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
Remove an unsupported report that projected values for twelve months.

2005-03-09 [1065]

  ihs_server7702io.hpp
Fix an oversight in documentation.

  copy_n_.hpp
  is_sorted_.hpp
Use uppercase 'C' in old copyright notices, as FSF recommends.

  GNUmakefile
Add a test for lowercase 'c' in copyright notices. Remove test for
the author's old email address (which has been changed in all sources
already) and add an optional, customizable facility to search for
strings that any particular contributor may wish to prevent from
appearing accidentally in files about to be committed to cvs.

  mc_enum.hpp
  mc_enum.tpp
Make str() public. Add experimental member function allowed_ordinal().

  mc_enum_type_enums.hpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp [new file]
Add enumerative types useful for life insurance.

  tn_range_type_trammels.hpp
  tn_range_types.cpp
  tn_range_types.hpp
Add range types useful for life insurance.

2005-03-10 [1165]

  about_dialog.cpp          [new file]
  about_dialog.hpp          [new file]
  alert_wx.cpp              [new file]
  any_member.hpp            [new file]
  argv0_test.cpp            [new file]
  census_document.cpp       [new file]
  census_document.hpp       [new file]
  date_control.cpp          [new file]
  date_control.hpp          [new file]
  datum_boolean.cpp         [new file]
  datum_boolean.hpp         [new file]
  datum_string.cpp          [new file]
  datum_string.hpp          [new file]
  docmanager_ex.cpp         [new file]
  docmanager_ex.hpp         [new file]
  docmdichildframe_ex.cpp   [new file]
  docmdichildframe_ex.hpp   [new file]
  illustration_document.cpp [new file]
  illustration_document.hpp [new file]
  input.cpp                 [new file]
  input.hpp                 [new file]
  lmi.rc                    [new file]
  mc_enum_types.xpp         [new file]
  menus.xrc                 [new file]
  miscellany_lmi.hpp        [new file]
  previewframe_ex.cpp       [new file]
  previewframe_ex.hpp       [new file]
  text_doc.cpp              [new file]
  text_doc.hpp              [new file]
  text_view.cpp             [new file]
  text_view.hpp             [new file]
  toolbar.xrc               [new file]
  transferor.cpp            [new file]
  transferor.hpp            [new file]
  value_cast.hpp            [new file]
  view_ex.cpp               [new file]
  view_ex.hpp               [new file]
  wx_checks.cpp             [new file]
  wx_workarounds.hpp        [new file]
Import and adapt files from skeleton branch. Add new GUI files.

  datum_base.hpp
  ihs_funddata.hpp
  mc_enum_types.xpp
Improve documentation.

  miscellany.cpp
  miscellany.hpp
  miscellany_lmi.hpp [expunged]
Merge.

2005-03-11 [1395]

  GNUmakefile
  any_member_ihs.hpp
  calculate.hpp
  configurable_settings.hpp
  docmanager_ex.hpp
  docmdichildframe_ex.hpp
  getopt.cpp
  global_settings.hpp
  ihs_avsolve.cpp
  ihs_basicval.cpp
  ihs_commfns.hpp
  ihs_irc7702.cpp
  ihs_irc7702a.cpp
  ihs_irc7702a.hpp
  irc7702a_test.cpp
  ncnnnpnn_test.cpp
Fix malformed comment markers. Add test to detect them.

  census_view.cpp
  census_view.hpp
  illustration_view.cpp
  illustration_view.hpp
  input_harmonization.cpp
  main_wx.cpp
  main_wx.hpp
  xml_notebook.cpp
  xml_notebook.hpp
  xml_notebook.xrc
Add new GUI files.

  cgimain.cpp [expunged]
  main_cgi.cpp [new file]
Rename 'cgimain.cpp' to 'main_cgi.cpp'.

  view_ex.cpp
Change main application header.

2005-03-12 [1397]

  text_doc.hpp
Mark overrides as virtual.

  value_cast.hpp
Improve documentation.

  workhorse.make
Add untested target to prevent accidental license problems.

2005-03-15 [1397]

  illustration_view.cpp
Remove obsolete comments. Improve 'calculation summary'.

  xml_notebook.xrc
Numerous improvements.

  about.xpm             [new file]
  close.xpm             [new file]
  delete-row.xpm        [new file]
  edit-case.xpm         [new file]
  edit-cell.xpm         [new file]
  edit-class.xpm        [new file]
  exit.xpm              [new file]
  fixed-width.xpm       [new file]
  help.xpm              [new file]
  insert-rows.xpm       [new file]
  new.xpm               [new file]
  open.xpm              [new file]
  paste-case.xpm        [new file]
  print-case.xpm        [new file]
  print-cell.xpm        [new file]
  print-options.xpm     [new file]
  print-preview.xpm     [new file]
  print.xpm             [new file]
  run-case.xpm          [new file]
  run-cell.xpm          [new file]
  save.xpm              [new file]
  saveas.xpm            [new file]
  varying-width.xpm     [new file]
  write_spreadsheet.xpm [new file]
Add pixmaps.

  census_view.ico       [new file]
  illustration_view.ico [new file]
  lmi.ico               [new file]
  text_view.ico         [new file]
Add icons.

  README [new file]
Add copyright, license, and derived-work notices for new graphics.

  menus.xrc
  toolbar.xrc
Use new pixmaps.

  GNUmakefile
Make sure that files embodying the GPL are created as prerequisites.
Check pixmaps for carriage returns; the documented 'xpm' format
doesn't permit embedding copyright and license notices or RCS Ids, and
they typically include tabs, so those things are not checked for.

  objects.make
  workhorse.make
Add wx target.

2005-03-16 [1403]

  input.cpp
  input_harmonization.cpp
  mc_enum.tpp
  xml_notebook.cpp
  xml_notebook.hpp
Import previously-tested GUI changes from sandbox.

2005-03-17 [1403]

  GNUmakefile
  workhorse.make
Improve 'clean' target.

  msw_common.make
  posix_fhs.make
  workhorse.make
Simplify msw builds by assuming FHS is followed.

  wx_checks.cpp
Check more wx build options.

2005-03-19 [1404]

  wx_checks.cpp
Check even more wx build options.

  transferor.cpp
  xml_notebook.xrc
Use wxDatePickerCtrl. These changes are sufficient to demonstrate that
the new control works correctly. Other changes are necessary to
coordinate the values of input entities that can be entered either as
birthdates or as attained ages.

  workhorse.make
Add 'install' target.

2005-03-21 [1404]

  GNUmakefile
Fix prerequisite of 'clobber' target.

  account_value.hpp
  census_view.cpp
  dbnames.xpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  ihs_mortal.cpp
  mortality_rates.hpp
Initial implementation of new experience-rating algorithm.

2005-03-22 [1405]

  census_view.cpp
Set experience-rating k factor to zero (not unity) when NAAR is zero.

  ihs_avmly.cpp
Remove a leftover line of debugging code.

2005-03-23 [1411]

  actuarial_table_test.cpp
  basicvalues.cpp
  como_4_3_3.make
  config.hpp
  fenv_lmi.hpp
  GNUmakefile
  ihs_fpios.cpp
  ihs_fpios.hpp
  ihs_proddata.cpp
  ihs_rnddata.cpp
  ihs_server7702.cpp
  posix_fhs.make
  round_to.hpp
  round_to_test.cpp
  workhorse.make
Improve platform independence.

  bcc_5_5_1.make
  input_harmonization.cpp
  xml_notebook.hpp
  wx_new.hpp
Avoid proprietary or platform-specific terms.

2005-03-24 [1411]

  census_view.cpp
Make IBNR a multiple of mortality charges, not of claims.

  census_view.cpp
  census_view.hpp
  census_view.ico       [expunged]
  census_view.xpm       [new file]
  illustration_view.cpp
  illustration_view.hpp
  illustration_view.ico [expunged]
  illustration_view.xpm [new file]
  menus.xrc
  text_view.cpp
  text_view.hpp
  text_view.ico         [expunged]
  text_view.xpm         [new file]
  view_ex.cpp
  view_ex.hpp
Replace msw icons with pixmaps, except for the main application icon,
which must be an '.ico' file.

2005-03-25 [1411]

  configurable_settings.cpp
  lmi.xpm [new file]
  main_cgi.cpp
  main_wx.cpp
  multiple_cell_document.cpp
  single_cell_document.cpp
Improve platform independence. Define 'USING_CURRENT_XMLWRAPP' or
'USING_CURRENT_CGICC' to use the current versions of xmlwrapp of cgicc
respectively, noting that neither has been tested with lmi yet.

  ihs_avdebug.cpp
  ihs_dbughdr.hpp
  ledger_xml_io.cpp
  ledger_variant.cpp
  ledger_variant.hpp
Remove some vestiges of the obsolete experience-rating method.

2005-03-26 [1400]

  ihs_acctval.cpp
Remove some vestiges of the obsolete experience-rating method.

  lmi.rc
Remove references to expunged '.ico' files.

  wx_checks.cpp
Permit certain wx options with glibc. Clarify reasons for excluding
certain graphics formats.

2005-03-29 [1415]

  account_value.hpp
  census_view.cpp
  ihs_acctval.cpp
Experience rating refinements. Numerator of next year's k factor is
next year's naively-projected COI charge (this year's terminal NAAR
times next year's COI rate) instead of this year's COI charges divided
by one plus this year's k factor. COI charges for experience rating
are yearly totals (without monthly interest), accumulated at an annual
interest rate, instead of a total reflecting monthly interest; while
less exquisitely precise, this is consistent with the way claims are
accumulated, and easier to reproduce from other available columns.
Solves are now explicitly prevented with experience rating: they're
inconsistent with the present parallel accumulation anyway.

  account_value.hpp
  census_view.cpp
  ihs_acctval.cpp
  ihs_avmly.cpp
Display additional information on temporary experience-rating output.

  ihs_acctval.cpp
Suppress side effects of the obsolete experience-rating method.

  xml_notebook.cpp
Add a few lines of code to XmlNotebook::ConditionallyEnableItems(),
as comments only. This represents the only known observable difference
in behavior between cvs HEAD and an offline 20050105T1130Z snapshot
that might have been a cvs branch but was never committed. It's
commented out because it depends on speculative changes elsewhere.

  dbnames.xpp
Correct a database entity's description.

  main_wx.cpp
Improve the OnExceptionInMainLoop() handler, unmasking a wx defect.

2005-03-30 [1415]

  xml_notebook.xrc
Enhance 'Funds' tab. Add 'Reports' tab. Revise 'Group' tab.

  dbnames.xpp
Correct a database entity's description.

  main_wx.cpp
Revert yesterday's change, which now seems to work, possibly due to
some unknown change in wx-2.5.4 . More testing is needed.

  account_value.hpp
  census_view.cpp
  ihs_acctval.cpp
Apportion experience reserve among individuals: even though this is
not the way it's intended to work, it's a precondition of the present
ledger classes that a composite is the weighted sum of individuals.
Suppress the test scaffolding for now unless a particular string
appears in the 'Comments' field; eventually, it'll be removed.

  ledger_xml_io.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
Add new supplemental-report columns for experience rating.

2005-03-31 [1415]

  ledger_invariant.cpp
Show supplemental-report columns on composite.

  ledger_xml_io.cpp
Permit blank columns on supplemental report.

2005-04-02 [1420]

  ledger_invariant.cpp
Initialize 'InforceLives' to zero to correct a defect. This needs to
be tested.

  workhorse.make
Improve 'install' target.

  ledger_xml_io.cpp
Document a defect that requires research.

2005-04-05 [1421]

  workhorse.make
Distinguish C from C++ warnings.

  spew_touchstone
Remove 'ExpRatRfd*' fields.

  config_all.hpp
  expm1.c                [new file]
  interest_rates.cpp
  math_functors.hpp
  math_functors_test.cpp [new file]
  objects.make
More accurate, faster interest calculations.

2005-04-06 [1427]

  mc_enum.cpp
  mc_enum.hpp
  mc_enum.tpp
Miscellaneous improvements.

  ce_product_name.cpp [new file]
  ce_product_name.hpp [new file]
  objects.make
Encapsulate product names.

  mc_enum_type_enums.hpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
Expunge old product-name enumeration.

  input.hpp
Replace old with new product-name type.

  census_view.cpp
Correct a latent defect: switch on enumerator's value instead of its
index in a set of enumerators.

  global_settings.hpp
Document a defect.

  ihs_proddata.cpp
  ihs_proddata.hpp
Remove disused member function.

  workhorse.make
Fix mpatrol problem.

  ihs_acctval.cpp
Fix reported problem.

2005-04-07 [1430]

  xenum.hpp
Improve documentation.

  como_4_3_3.make
  round_to_test.cpp
Improvements for como, which still fails some unit tests.

  config.hpp
Detect hardware platform with borland compiler.

  platform_dependent.hpp
Define access() result macro for borland compiler.

  bcc_5_5_1.make
  pchfile.hpp
Attempt only unit tests with this obsolete toolset. Accordingly,
don't attempt to precompile wx headers. Many tests fail to compile,
due in large part to the toolset's inability to cope with boost.

  obstruct_slicing_test.cpp
Prevent a nugatory warning.

  timer.hpp
Change underlying type for elapsed time, to increase portability.

  mc_enum.hpp
  mc_enum_test.cpp
Improve documentation and unit test.

  ledger_xml_io.cpp
Mark some known defects.

  mc_enum.cpp
  mc_enum.hpp
  mc_enum.tpp
  mc_enum_test.cpp
Forestall a latent defect.

  xml_notebook.xrc
Enhance 'Group' and 'Solve' tabs.

  input_harmonization.cpp
Enhance 'SurviveToType' enablement.

  workhorse.make
Add experimental regression-test target.

2005-04-09 [1431]

  ce_product_name.hpp
Improve documentation.

  ihs_dbdict.cpp
Enable experience rating for sample product.

  fenv_lmi.cpp [new file]
  fenv_lmi.hpp
  objects.make
Factor out and improve floating-point-environment management, as is
required for product-file generation.

  generate_product_files.cpp
  objects.make
  workhorse.make
Program to generate product files.

  my_db.cpp   [new file]
  my_fund.cpp [new file]
  my_prod.cpp [new file]
  my_rnd.cpp  [new file]
  my_tier.cpp [new file]
Templates for creating product-file programs.

2005-04-10 [1433]

  tiered_charges.xpp
Improve descriptions.

  tiered_charges.cpp
Simplify defaults.

  my_tier.cpp
Simplify.

  proprietary.cpp [expunged]
Expunge disused file.

  objects.make
Remove duplicate target and references to 'proprietary.cpp'.

  generate_product_files.cpp
  ihs_dbdict.cpp
  ihs_funddata.cpp
  ihs_proddata.cpp
  ihs_rnddata.cpp
  tiered_charges.cpp
Call 'proprietary' functions directly. Calling a shared-library
function that called them indirectly prevented overriding their
implementations.

  dbdict.hpp
  ihs_dbdict.hpp
Move inline functions out of class body. Remove a disused function.

  ledger.hpp
Improve documentation.

  main.cpp
Use 'alert' facility as appropriate.

  ledgervalues.cpp
  main.cpp
Add temporary testing code, suppressing a failing test for the moment.

  workhorse.make
Don't echo regression-test commands.

  accountvalue.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  library_demo.cpp
Improve handling of monthly-values filename. Initialize it in ctor
instead of initializing it haphazardly and signaling an error
downstream if it never got initialized.

  ledgervalues.cpp
  ledgervalues.hpp
  main.cpp
Emit monthly values for regression-test cases that require them.

2005-04-11 [1431]

  fenv_lmi.cpp
Remove a gratuitous dependency.

  ihs_avmly.cpp
Adjust COI rate for k factor only on current-mortality basis; round
the adjusted COI rate.

  ihs_acctval.cpp
Reimplement net-claims calculation.

  inputs.cpp
Set new default: survive to age 99. Because coverage beyond maturity
is not illustrated, at least for now, this is the most reasonable
default for a composite. It has no effect on individual illustrations.

2005-04-13 [1429]

  input_harmonization.cpp
  xml_notebook.xrc
Fix some problems with solve inputs.

  ledger.cpp
Improve an error message.

2005-04-14 [1429]

  census_view.cpp
  census_view.hpp
  ledgervalues.cpp
  ledgervalues.hpp
  main.cpp
Consolidate and refactor filename generation.

2005-04-15 [1447]

  calculate.hpp
  census_document.cpp
  main.cpp
  multiple_cell_document.cpp
  multiple_cell_document.hpp
Revise class multiple_cell_document. Rename members. Add accessors.
Change dependent code elsewhere.

  ihs_acctval.cpp
Apportion mortality reserve only on current-mortality basis.

  accountvalue.cpp
Add stubs for member functions not implemented on the antediluvian
branch.

  account_value.hpp
  group_values.cpp [new file]
  group_values.hpp [new file]
  ledgervalues.cpp
  ledgervalues.hpp
  main.cpp
Revise and move group-values code, distinguishing parallel from serial
accumulation.

2005-04-17 [1446]

  group_values.cpp
  group_values.hpp
  main.cpp
Make 'RunCensusInSeries' a function object.

2005-04-19 [1448]

  objects.make
  progress_meter.cpp      [new file]
  progress_meter.hpp      [new file]
  progress_meter_cli.cpp  [new file]
  progress_meter_cli.hpp  [new file]
  progress_meter_test.cpp [new file]
Add progress_meter class and unit test.

  progress_meter.hpp
  progress_meter_test.cpp
Default 'title' argument to an empty string.

  progress_meter.cpp
Throw an exception if function pointer assigned more than once.

  progress_meter_cli.cpp
  progress_meter_cli.hpp [expunged]
  progress_meter_test.cpp
Subsume concrete-class declaration into the implementation file, in an
anonymous namespace, to improve encapsulation. Consequently, fewer
files are needed, and all concrete implementations can share the same
name, because only one may ever be defined.

  ledger_invariant.cpp
  ledger_xml_io.cpp
Add experimental 'spreadsheet' output facility. Printing or previewing
a composite creates a tab-delimited file of all values potentially
available for output columns, iff the 'Comments' field at the case
level contains the string 'idiosyncrasy_spreadsheet'.

2005-04-20 [1448]

  illustration_view.cpp
Improve documentation.

  progress_meter.cpp
  progress_meter.hpp
Add protected accessor for maximum count.

  progress_meter_cli.cpp
Print title.

  progress_meter_cli.cpp
Make concrete_progress_meter virtuals private.

  progress_meter_cgi.cpp
  progress_meter_wx.cpp
Implement progress meter for additional interfaces.

  census_view.cpp
  group_values.cpp
  objects.make
Use progress meter for both old and new group-values code.

2005-04-21 [1426]

  objects.make
  timer_test.cpp [new file]

Add unit test for class Timer.

  timer.cpp
  timer.hpp
  timer_test.cpp
Revert 2005-04-07T15:05:40Z change, which had incorrectly quadrupled
reported times. Improve documentation, interface, implementation, and
unit test.

  calculate.hpp
  commutation_functions_test.cpp
  illustration_view.cpp
  input.cpp
  library_demo.cpp
  main.cpp
  timer.cpp
  timer.hpp
Simplify and improve class Timer.

  group_values.cpp
  group_values.hpp
Factor out report generation.

  census_view.cpp
  group_values.cpp
  ihs_basicval.cpp
  illustration_view.cpp
  input_harmonization.cpp
  main_cgi.cpp
  main_wx.cpp
  main_wx.hpp
  text_view.cpp
  text_view.hpp
  xml_notebook.hpp
Expunge many things previously marked for expunction.

2005-04-22 [1430]

  ihs_acctval.cpp
Fix an error: experience-rating reserve was calculated correctly, but
posted incorrectly to the output ledger.

  ledger_xml_io.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
Add column: forborne experience-rating reserve.

2005-04-23 [1431]

  input.cpp
  input.hpp
  input_harmonization.cpp
  inputillus.cpp
  inputs.cpp
  inputs.hpp
  xml_notebook.xrc
Add new input fields for experience rating.

  census_view.cpp
  group_values.cpp
Use new input fields for experience rating.

2005-04-25 [1431]

  ledger_xml_io.cpp
Change a column title.

  progress_meter.hpp
Experiment with doxygen tags.

2005-04-28 [1431]

  configurable_settings.cpp
  configurable_settings.hpp
Add several settings.

2005-04-29 [1431]

  objects.make
  path_utility.cpp      [new file]
  path_utility.hpp      [new file]
  path_utility_test.cpp [new file]
Add path-utility functions and unit tests.

  ledger_xsl.cpp [new file]
  ledger_xsl.hpp [new file]
  objects.make
Factor pdf creation out of gui.

2005-04-30 [1434]

  census_view.cpp
  ihs_basicval.cpp
  interest_rates.cpp
  ledger_xsl.cpp
  ledger.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
  xenumtypes.cpp
  xenumtypes.hpp
Expunge disused prospectus ledger type.

  ledger_xsl.cpp
  ledger.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
  xenumtypes.cpp
  xenumtypes.hpp
Expunge disused illustration-reg private-placement ledger type.
Change strings associated with ledger-type datatypes.

  inputs.cpp
  inputs.hpp
Add member function to determine ledger type.

  basicvalues.cpp
  calculate.hpp
  census_view.cpp
  ihs_basicval.cpp
  illustration_view.cpp
  interest_rates.cpp
  ledger_xsl.cpp
  main.cpp
Simplify and improve ledger-type determination.

  path_utility.cpp
  path_utility_test.cpp
Improve documentation.

  census_view.cpp
  illustration_view.cpp
  illustration_view.hpp
Factor html formatting out of GUI class.

  illustration_view.cpp
  illustration_view.hpp
Factor special report out of GUI class.

  census_view.cpp
  illustration_view.cpp
  illustration_view.hpp
  ledger_text_formats.cpp [new file]
  ledger_text_formats.hpp [new file]
  objects.make
Move ledger text formatting to new location.

  census_view.cpp
  census_view.hpp
  group_values.cpp
  group_values.hpp
  illustration_view.cpp
  illustration_view.hpp
  path_utility.cpp
  path_utility.hpp
  view_ex.cpp
  view_ex.hpp
Refactor filename functions.

2005-05-01 [1431]

  configurable_settings.cpp
Explicitly initialize all data members.

  como_4_3_3.make
Improve documentation.

  group_values.cpp
  illustration_view.cpp
  ledger_xsl.cpp
  ledger_xsl.hpp
  view_ex.cpp
Use new ledger-formatting facilities.

  argv0_test.cpp
Improve unit test.

  ihs_crc_comp.cpp
Temporary workaround to ignore fund-name changes.

2005-05-02 [1400]

  GNUmakefile
  workhorse.make
Improve regression-test automation.

  census_view.cpp
  group_values.cpp
  ledger_xml_io.cpp
Improve platform independence.

  group_values.cpp
Rename some local variables.

  ledger_variant.cpp
Remove a meaningless comment.

  ledger_xsl.cpp
Rename a local variable to avoid an implicit suggestion that this
program depends on apache fop. Any xsl-fo implementation may be used;
it's pluggable to avoid the conflict between apache and FSF licenses.

  account_value.hpp
  census_view.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
Remove dead code.

2005-05-03 [1400]

  account_value.hpp
  census_view.cpp
  census_view.hpp
  census_view_obsolete.cpp [new file]
  group_values.cpp
  group_values.hpp
  main.cpp
Improve group-values code. Factor obsolete group-values code out of
GUI into a new file that is to be expunged with celerity.

2005-05-05 [1371]

  account_value.hpp
  accountvalue.cpp
  census_view.cpp
  census_view.hpp
  census_view_obsolete.cpp [expunged]
  group_values.cpp
  group_values.hpp
  ihs_acctval.cpp
Simplify; remove dead code.

  census_view.hpp
Remove obsolete comment.

  group_values.cpp
  group_values.hpp
Refactor.

2005-05-06 [1347]

  workhorse.make
Improve automation.

  dbdict.cpp
  dbnames.hpp
  dbnames.xpp
  ihs_dbdict.cpp
Add 'ExpRatAmortPeriod' entity: experience-rating amortization period.

  account_value.hpp
  accountvalue.cpp
  ihs_acctval.cpp
Add accessors for experience-rating database entities, so that the
group-values code can be decoupled from the database.

  group_values.cpp
Simplify and improve.

  census_view.cpp
Remove dead code and obsolete comments.

  group_values.hpp
  ihs_acctval.cpp
Remove obsolete comments.

  main.cpp
Improve documentation of a defect.

  group_values.cpp
  ihs_avmly.cpp
Improve documentation. Redefine 'k factor' to be a multiplicative
factor, instead of a quantity added to one to produce such a factor.

  group_values.cpp
Remove an obsolete comment.

  census_view.cpp
Document a defect.

  account_value.hpp
Withdraw unneeded friendship; remove a disused member.

  ihs_avmly.cpp
  ihs_basicval.cpp
  input_harmonization.cpp
  inputillus_sequences.cpp
Extirpate otiose drek.

2005-05-07 [1346]

  comma_punct.hpp      [new file]
  comma_punct_test.cpp [new file]
  ledger_text_formats.cpp
  ledger_xml_io.cpp
  objects.make
Punctuate numbers with commas.

2005-05-08 [1346]

  configurable_settings.cpp
  configurable_settings.hpp
Improve FHS conformance.

  library_demo.cpp [expunged]
  spew_touchstone  [expunged]
  workhorse.make
Expunge shared_demo, static_demo, and av_tests targets: they're
superseded by more powerful regression tests. Experimentally add
distinct wx targets that link to the common lmi library statically
and dynamically.

  account_value.hpp
  group_values.cpp
  illustration_view.cpp
  illustration_view.hpp
  ledgervalues.cpp
  ledgervalues.hpp
  library_demo.cpp
  solve.cpp
Used shared_ptr instead of scoped_ptr or auto_ptr for ledgers.

  census_view.cpp
  census_view.hpp
  illustration_view.cpp
  illustration_view.hpp
Refactor composite summary display.

2005-05-11 [1346]

  account_value.hpp
  comma_punct.hpp
Improve documentation.

  argv0_test.cpp
Remove unneeded headers.

  callback.hpp      [new file]
  callback_test.cpp [new file]
  objects.make
Generalize shared-library callbacks.

2005-05-12 [1346]

  census_view.cpp
Improve documentation.

  file_command.cpp     [new file]
  file_command.hpp     [new file]
  file_command_cgi.cpp [new file]
  file_command_cli.cpp [new file]
  file_command_wx.cpp  [new file]
  group_values.cpp
  illustration_view.cpp
  objects.make
Run a command against a file, respecting its extension. Factor the
implementation out of the illustration-view class and into the new
file-command class; use it for groups as well as individuals.

2005-05-13 [1345]

  file_command.cpp
  file_command.hpp
Improve encapsulation.

  census_view.cpp
  census_view.hpp
  group_values.cpp
  group_values.hpp
  illustration_view.cpp
  illustration_view.hpp
Use shared_ptr to avoid copying ledgers.

  account_value.hpp
  calculate.hpp
  ledgervalues.cpp
  ledgervalues.hpp
Refactor to achieve constness for shared_ptr to ledger.

  main.cpp
Refactor, removing a defective and pointless line.

  main_cli.cpp [new file]
  objects.make
Rename 'main.cpp' to 'main_cli.cpp' because it implements main() for
the command-line interface only.

  main_wx.cpp
Refactor, removing a defective and pointless line.

2005-05-14 [1335]

  census_view.cpp
Add generic clipboard implementation by <vadim@tt-solutions.com>.

  main_cgi.cpp
Refactor, removing a defective and pointless line.

  main.cpp        [expunged]
  main_cgi.cpp
  main_cli.cpp
  main_common.cpp [new file]
  main_common.hpp [new file]
  main_wx.cpp
Factor out common initialization.

  spew_touchstone [expunged]
  workhorse.make
Remove 'av_tests' target: 'regression_test' target supersedes it.

  workhorse.make
Explore building with shared and static libraries.

2005-05-16 [1335]

  ihs_acctval.cpp
Rename an optional output file.

2005-05-17 [1335]

  snprintf_test.cpp
Remove unused headers.

  numeric_io_test.cpp
Replace boost timer with the high-precision timer used for other unit
tests.

  numeric_io_cast.hpp
Correct misleading documentation. The orders-of-magnitude speed
difference formerly cited was measured with mpatrol in use, which
exaggerates the cost of memory allocation.

  numeric_io_test.cpp
Add tests, revealing a latent defect: "0." is a valid floating literal
but incorrectly triggers an exception.

2005-05-18 [1337]

  numeric_io_cast.hpp
  numeric_io_test.cpp
Work around defect noted 2005-05-17.

  numeric_io_cast.hpp
  numeric_io_test.cpp
  numeric_io_traits.hpp
Remove defect noted 2005-05-17.

  file_command_wx.cpp
Show native path in diagnostic messages.

  objects.make
  value_cast.hpp
  value_cast_ihs_test.cpp [new file]
  value_cast_test.cpp
Formerly, these unit tests corresponded to these libraries:
  [no unit test]            tested 'value_cast.hpp'
  'value_cast_test.cpp'     tested 'value_cast_ihs.hpp'
Now, more rationally,
  'value_cast_test.cpp'     tests  'value_cast.hpp'
  'value_cast_test_ihs.cpp' tests  'value_cast_ihs.hpp'
New file 'value_cast_test_ihs.cpp' is old file 'value_cast_test.cpp',
renamed. Contents of old file 'value_cast_test.cpp' are replaced by
code from the skeleton branch, with the addition of some tests from
the suite for 'value_cast_ihs.hpp'.

  objects.make
  value_cast.hpp
  value_cast_test.cpp
Improve unit test and documentation.

  stream_cast.hpp
  value_cast_test.cpp
Warn on inappropriate use of function template stream_cast(). Revise
value-cast unit test accordingly.

  stream_cast.hpp
  stream_cast_test.cpp
  value_cast_test.cpp
Move certain stream-cast tests to value-cast unit test.

  calendar_date_test.cpp
Refactor.

2005-05-19 [1328]

  any_member_ihs.hpp
  calendar_date.cpp
  ihs_avdebug.cpp
  ihs_crc_comp.cpp
  ihs_inputillus_term_rider.cpp
  input_harmonization.cpp
  input_sequence.cpp
  inputillus.cpp
  inputillus_term_rider.cpp
  inputillus_xml_io.cpp
  ledger_base.cpp
  ledger_text_formats.cpp
  ledger_xml_io.cpp
  main_cgi.cpp
  main_cli.cpp
  multiple_cell_document.cpp
  ncnnnpnn.hpp
  objects.make
  value_cast_ihs.hpp      [expunged]
  value_cast_ihs_test.cpp [expunged]
  xrange.hpp
Replace old with new value-cast function template.

2005-05-20 [1328]

  ihs_crc_comp.cpp
Catch exceptions in main(), which had abended due to a long-double IO
issue identified when applying the 2005-05-19 changes. Catching
exceptions prevents the abend; the next change (below) prevents the
observed exception from being thrown.

  numeric_io_test.cpp
  numeric_io_traits.hpp
Use what limited support MinGW gcc provides for long-double IO;
document a known MinGW strtold() problem in the unit test.

  global_settings_test.cpp [new file]
  objects.make
Add global-settings unit test: just an empty shell for now.

  configurable_settings.cpp
  configurable_settings.hpp
Refactor.

2005-05-22 [1327]

  GNUmakefile
Incorporate source directory's name in build directory's, in order to
prevent source in distinct sibling directories from incorrectly using
the same build directory.

  objects.make
  workhorse.make
Refactor, making both the lmi and the antediluvian branch use exactly
the same objects for their command-line and cgi-bin drivers. This
demonstrates substitutability of the two branches' calculation
libaries, making it an invariant that's enforced physically and
validated whenever the 'test' target is run.

  workhorse.make
Numerous improvements. The 'install' target runs much faster when
any files to be installed are already up to date. Regression testing
analysis reports certain differences that were previously ignored.
The 'prefix' and 'exec_prefix' variables expected by the GNU coding
standards are now respected. Shared libraries are used by default.

  any_member_ihs_test.cpp [new file]
  any_member_test.cpp
  objects.make
Formerly, these unit tests corresponded to these libraries:
  [no unit test]            tested 'any_member.hpp'
  'any_member_test.cpp'     tested 'any_member_ihs.hpp'
Now, more rationally,
  'any_member_test.cpp'     tests  'any_member.hpp'
  'any_member_test_ihs.cpp' tests  'any_member_ihs.hpp'
New file 'any_member_ihs_test.cpp' is old file 'any_member_test.cpp',
renamed. Contents of old file 'any_member_test.cpp' are replaced by
code from the skeleton branch.

  numeric_io_traits.hpp
Work around strtold() conflict between C++98 and C99.

  any_member.hpp
Prevent a gcc-3.4.2 warning.

  any_member_test.cpp
  wx_new_test.cpp
Remove redundant references to std::free(), which is already handled
by the unit-test driver.

  any_member_ihs_test.cpp
Remove gratuitous differences.

  any_member_test.cpp
Merge old and new tests.

  numeric_io_traits.hpp
Add kludge for como.

2005-05-23 [1313]

  any_member.hpp
  any_member_test.cpp
Refactor.

  any_member.hpp
  any_member_ihs.hpp      [expunged]
  any_member_ihs_test.cpp [expunged]
  any_member_test.cpp
  input_test.cpp
  inputillus.cpp
  inputillus.hpp
  inputillus_xml_io.cpp
  main_cgi.cpp
  objects.make
Replace old with new any_member class template.

2005-05-26 [1302]

  any_member.hpp
Refactor.

  bcc_5_5_1.make
  workhorse.make
Help borland find its own include directory.

  como_4_3_3.make
Improve documentation.

  zero_test.cpp
Add a regression test.

  round_to.hpp
  round_to_test.cpp
Make unit test work with compilers that lack rint().

  round_to.hpp
Improve usage of unavoidable macros.

  zero_test.cpp
Increase rigor of a unit test.

  config.hpp
  config_all.hpp
  getopt.cpp
  getopt.hpp
  inputillus_sequences.cpp
  ncnnnpnn.hpp
  numeric_io_cast.hpp
  numeric_io_traits.hpp
  round_to_test.cpp
  snprintf_test.cpp
  stream_cast.hpp
  zero_test.cpp
Rationalize some toolset conditionals.

  miscellany.hpp
Prevent a benign warning.

  bcc_5_5_1.make
Turn off warnings that complain so much about boost that they make it
hard to see any warnings that might be important to lmi.

  kludges.cpp      [expunged]
  kludges_test.cpp [expunged]
  objects.make
Remove kludges once needed for a compiler no longer supported.

  alert_cgi.cpp
  alert_cli.cpp
  calendar_date.cpp
  calendar_date.hpp
  calendar_date_test.cpp
  config_all.hpp
  financial.hpp
  ihs_fpios.cpp
  input_sequence.cpp
  ledger.cpp
  ledger_xml_io.cpp
  main_cgi.cpp
  math_functors.hpp
  ncnnnpnn.hpp
  quiet_nan.hpp
  round_to.hpp
  round_to_test.cpp
  secure_date.hpp
  xenum.cpp
  xenum.hpp
  xenum_sample.cpp
  xenum_sample.hpp
  xenum_test.cpp
  xenumtypes.cpp
  xmlwrapp_ex.cpp
  xrange.hpp
  xrange_test.cpp
Refactor preprocessor conditionals.

2005-05-27 [1302]

  getopt.cpp
  getopt.hpp
Prevent ostensive memory-allocation problem.

  ihs_avdebug.cpp
Stop including an unused header.

  GNUmakefile
  any_member_test.cpp
  calculate.hpp
  census_view.cpp
  cpp_main.cpp
  crc32.hpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  ihs_avstrtgy.cpp
  ihs_crc_comp.cpp
  ihs_irc7702.hpp
  ihs_proddata.cpp
  ihs_server7702.cpp
  ledger_text_formats.cpp
  ledger_xml_io.cpp
  main_cgi.cpp
  main_wx.cpp
  tiered_charges.cpp
  transferor.cpp
  xenumtypes.cpp
  xenumtypes.hpp
  xml_notebook.cpp
  xmlwrapp_ex.cpp
Don't let lines end in blanks.

  ihs_avsolve.cpp
  ihs_irc7702.cpp
Add assertions.

  actuarial_table.cpp
Prevent a problem with libstdc++ debug mode.

2005-05-29 [1294]

  mc_enum_types.xpp
  xenumtypes.cpp
Fix mistaken "group_individual_private_placement": either it's group,
or it's individual, but it can't be both.

  xenumtypes.cpp
  xenumtypes.hpp
Restore obsolete enumerative values, in order to achieve compatibility
with an obsolete external program.

  dbnames.xpp
Ensure that parent nodes precede their children.

  input.cpp
Rework.

2005-05-30 [1294]

  workhorse.make
Create directories correctly.

2005-05-31 [1290]

  ihs_basicval.cpp
Rewrite a consistency test.

2005-06-01 [1289]

  view_ex.cpp
  view_ex.hpp
Improve documentation.

  input_harmonization.cpp
Document a problem.

  GNUmakefile
Improve style checking.

2005-06-03 [1289]

  timer.cpp
  timer.hpp
  timer_test.cpp
Add adaptable time-measurement facility.

2005-06-04 [1286]

  workhorse.make
Write regression-test md5sums.

  actuarial_table_test.cpp
  calculate.hpp
  commutation_functions_test.cpp
  elapsed_time.cpp
  financial_test.cpp
  group_values.cpp
  ihs_commfns.cpp
  ihs_irc7702.cpp
  illustration_view.cpp
  input.cpp
  main_cgi.cpp
  main_cli.cpp
  math_functors_test.cpp
  numeric_io_test.cpp
  obstruct_slicing_test.cpp
  timer.cpp
  timer.hpp
  timer_test.cpp
Refactor timer class.

2005-06-07 [1285]

  math_functors.hpp
Improve speed and accuracy of mortality-rate calculations.

  ihs_commfns.hpp
Make class ULCommFns Copyable.

  actuarial_table_test.cpp
  ihs_commfns.cpp
Improve formatting.

  commutation_functions_test.cpp
  financial_test.cpp
  math_functors_test.cpp
  obstruct_slicing_test.cpp
Use adaptable time-measurement facility.

  commutation_functions_test.cpp
  input_seq_test.cpp
  round_to_test.cpp
  timer_test.cpp
Make some unit-test output less distracting.

  math_functors_test.cpp
Expunge obsolete code.

  calculate.hpp
  main_cli.cpp
  ledgervalues.cpp
  ledgervalues.hpp
Pass an argument by pointer to work around a shared-library issue.

2005-06-08 [1285]

  name_value_pairs.hpp      [new file]
  name_value_pairs_test.cpp [new file]
  objects.make
Read name-value pairs--initial sketch.

  docmanager_ex.cpp
Fix defect #12345.

  name_value_pairs.cpp      [new file]
  name_value_pairs.hpp
  name_value_pairs_test.cpp
  objects.make
Read name-value pairs--rewritten as a class.

2005-06-09 [1285]

  name_value_pairs.cpp
  name_value_pairs.hpp
  name_value_pairs_test.cpp
  objects.make
Refactor.

  objects.make
Prepare for new files, yet to be added.

2005-06-10 [1286]

  objects.make
Refactor.

  financial_test.cpp
Reformat speed-test output.

  ledgervalues.cpp
Reformat.

  workhorse.make
Improve consistency.

  ledger_text_formats.cpp
  ledger_text_formats.hpp
Optionally specify PrintFormSpecial()'s output file.

2005-06-11 [1282]

  ihs_avmly.cpp
  ihs_commfns.cpp
  ledger_base.hpp
  ledger_text_formats.cpp
  ncnnnpnn.hpp
Refactor stream precision.

  input_sequence.cpp
  ledger_base.cpp
  ledger_base.hpp
  max_stream_precision.hpp
Rewrite max_stream_precision().

  custom_io_0.cpp [new file]
  custom_io_0.hpp [new file]
  main_cli.cpp
  workhorse.make
Support a custom interface.

2005-06-12 [1285]

  custom_io_0.cpp
  custom_io_0.hpp
  ledger_text_formats.cpp
  ledger_text_formats.hpp
Refactor.

  elapsed_time.cpp
  generate_passkey.cpp
  generate_product_files.cpp
  ihs_crc_comp.cpp
  initialize_filesystem.hpp [new file]
  main_cgi.cpp
  main_cli.cpp
  main_common.cpp
  main_common.hpp
  main_common_non_wx.cpp    [new file]
  main_wx.cpp
  objects.make
  workhorse.make
Refactor.

2005-06-13 [1284]

  input.hpp
Change a data member to a more appropriate type.

  input.cpp
Diagnose data-conversion problems.

  main_common_non_wx.cpp
Update documentation.

  custom_io_0.cpp
Slightly liberalize input restrictions.

2005-06-14 [1292]

  custom_io_0.cpp
  custom_io_0.hpp
Refactor.

  main_wx.cpp
Support a custom interface: optional GUI.

  custom_io_0.cpp
Remove obsolete code.

  custom_io_0.cpp
Run custom output to maturity.

  dbdict.cpp
  dbdict.hpp
  ihs_dbvalue.cpp
  ihs_dbdict.cpp
  ihs_dbdict.hpp
Add facility to print product databases.

2005-06-15 [1276]

  census_view.cpp
  census_view.hpp
  illustration_document.cpp
  illustration_document.hpp
  illustration_view.cpp
  illustration_view.hpp
  main_cli.cpp
  main_wx.cpp
Refactor.

  xml_notebook_coli_boli.xrc [new file]
Add new input skin.

  xml_notebook.xrc
  xml_notebook_coli_boli.xrc
Rewrite.

  xml_notebook.xrc
Demonstrate a defect.

  xml_notebook_coli_boli.xrc
Make <border> tags slightly more consistent.

2005-06-16 [1283]

  xml_notebook.xrc
Mark redundant scalar controls for expunction.

  xml_notebook.xrc
Reformat 'Names' tab.

  xml_notebook.xrc
Clean up.

2005-06-17 [1283]

  xml_notebook_coli_boli.xrc
Make <border> tags more consistent.

  xml_notebook_single_premium.xrc [new file]
Add experimental input skin, drastically simplified for a particular
group of users. Some defaults will need to be changed to make this
work correctly.

  md5.hpp
Rename a macro; undefine it at end of file.

  ledger_text_formats.cpp
Reformat 'Calculation Summary'.

  fenv_lmi.cpp
  main_wx.cpp
  msw_common.make
  msw_msys.make
  objects.make
  posix_fhs.make
  transferor.cpp
  workhorse.make
Increase platform independence.

  msw_cygwin.make
Replace explicit paths with variables, in the spirit of Vadim's
changes to 'msw_msys.make'.

  msw_cygwin.make
  msw_generic.make
  msw_msys.make
Expect 'tar' in /usr/bin/, not in /bin/ [FHS-2.2, 3.4.2].

  inputillus_xml_io.cpp
  ledger_xml_io.cpp
Workarounds for xmlwrapp version conflicts.

2005-06-18 [1284]

  workhorse.make
Improve data-file installation.

  autodependency.make
  msw_msys.make
Attempt to fix an MSYS problem.

  ihs_acctval.cpp
  ihs_loads.cpp
  inputs.cpp
Replace obsolete boost::compose with boost::bind.

2005-06-19 [1283]

  workhorse.make
Replace obsolete boost::compose with boost::bind.

  GNUmakefile
  fenv_lmi.cpp
  inputillus_xml_io.cpp
  ledger_xml_io.cpp
  posix_fhs.make
Trivial stylistic changes.

2005-06-20 [1284]

  GNUmakefile
  INSTALL [new file]
Add (initially quite limited) installation instructions.

  global_settings.cpp
  global_settings.hpp
Refactor.

2005-06-21 [1281]

  global_settings.cpp
  global_settings.hpp
Refactor.

  ce_product_name.cpp
  census_view.cpp
  custom_io_0.cpp
  data_directory.cpp
  global_settings.cpp
  ihs_acctval.cpp
  ihs_basicval.cpp
  ihs_dbdict.cpp
  input_harmonization.cpp
  inputillus_sequences.cpp
  ledger_text_formats.cpp
  ledger_xml_io.cpp
  main_cli.cpp
  main_wx.cpp
  security.cpp
Reflect changes to class 'global_settings'.

  global_settings.cpp
  objects.make
Validate directories.

  global_settings.cpp
Remove global_settings_test dependence on 'alert*.o'.

  objects.make
Remove global_settings_test dependence on 'alert*.o', reverting a
makefile commit that incorrectly overwrote some of Vadim's changes.

  global_settings_test.cpp
Add unit tests.

  global_settings.cpp
  global_settings.hpp
Improve documentation.

  global_settings_test.cpp
Add more unit tests.

2005-06-22 [1281]

  INSTALL
Improve installation instructions.

  xml_notebook_private_placement.xrc [new file]
Add new input skin.

  xml_notebook_single_premium.xrc
Remove superfluous controls and tabs.

  ihs_avstrtgy.cpp
  input_harmonization.cpp
Reformat.

  census_view.cpp
  custom_io_0.cpp
  inputs.cpp
  inputillus.cpp
Change default inputs from
  solve for ee premium, ee premium 20000, er premium 0
to
  no solve, ee premium 0, er premium 20000 .
Users wouldn't be able to turn off a default solve through a GUI
interface that doesn't permit solves, and there was already too much
special-case code to override the former default solve in other cases
where it was inappropriate. It would make no sense to make the default
zero premium: the illustration would lapse instantly, producing a
report that would astonish new users, though a 20000 premium and a
1000000 specified amount are regrettably arbitrary defaults.

2005-06-23 [1281]

  xml_notebook_coli_boli.xrc
Regularize formatting; mark other potential changes.

  custom_io_0.cpp
Assume BOLI premium is paid by the bank.

  main_cli.cpp
Don't let a failing testdeck halt regression testing.

  global_settings.cpp
  global_settings.hpp
  main_cli.cpp
Add a global setting for regression testing.

  xml_notebook_coli_boli.xrc
Remove unused scalar controls.

  workhorse.make
Remove cgicc workaround. 'INSTALL' explains where to get the version
of cgicc that's known to work with lmi, and gives special instructions
for patching it for the msw platform.

2005-06-24 [1285]

  xml_notebook_coli_boli.xrc
Improve documentation. Reformat one panel's layout.

  xml_notebook_private_placement.xrc
Remove unused scalar controls.

  docmanager_ex.cpp
Put popup menu at mouse cursor position.

  GNUmakefile
Work around problem passing environment variables to submakefiles.

2005-06-26 [1285]

20050626T2301Z <chicares@cox.net>

  GNUmakefile
Strive to detect malformed RCS Ids.

  input.hpp
  input_harmonization.cpp
  xml_notebook.cpp
Default general-account rate to product's current credited rate.

20050627T1332Z <chicares@cox.net>

  setup.make [new file]
Add experimental facility to set up build environment.

2005-07-01 [1293]

20050701T1204Z <wboutin@massmutual.com>

  INSTALL
Improve installation instructions.

2005-07-05 [1287]

20050705T1726Z <chicares@cox.net>

  ledger_invariant.cpp
Use last cell's 'TotalIMF' for composite.

20050705T1743Z <wboutin@massmutual.com>

  INSTALL
  xml_notebook_private_placement.xrc
Improve conformance.

20050705T1750Z <chicares@cox.net>

  main_wx.cpp
  passkey_test.cpp
  secure_date.cpp
  secure_date.hpp
  security.cpp
Improve passkey diagnostics.

20050706T0048Z <chicares@cox.net>

  global_settings.cpp
  global_settings.hpp
  global_settings_test.cpp
  main_wx.cpp
  objects.make
  secure_date.cpp
  secure_date.hpp
Change type of global_settings data members representing directories.

20050706T1438Z <chicares@cox.net>

  objects.make
  passkey_test.cpp
Fix broken unit test.

20050708T1426Z <chicares@cox.net>

  GNUmakefile
Restore default options incorrectly overridden in version 1.21 .

20050710T0414Z <chicares@cox.net> [1286]

  path_utility.cpp
Improve documentation.

20050710T1241Z <chicares@cox.net> [1286]

  ledger_xsl.cpp
Force portable filename for printing, to work around problems observed
with apache fop.

  ledger_invariant.cpp
Document a defect.

20050711T1414Z <chicares@cox.net> [1288]

  actuarial_table.cpp
Improve diagnostics.

  ihs_proddata.cpp
  my_prod.cpp
  my_rnd.cpp
Make 'sample' product files less inconsistent. Formerly, these files
differed materially depending on whether the source directory from
which the makefile is invoked has a populated sibling /products/src/
directory.

20050712T0113Z <chicares@cox.net> [1287]

  docmanager_ex.cpp
Fix a defect that seems similar to #12345 but has a different cause.
Making "Choose type" the actual title of the popup document-template
menu caused it to interfere with the "Census" menuitem's keyboard
accelerator. Prevent that by removing the title, which didn't really
convey any information anyway. Document this oddity inline to warn
future maintainers.

20050712T0117Z <chicares@cox.net> [1287]

  illustration_view.cpp
Fix a defect: 'custom' input failed to work with GUI.

20050712T0126Z <chicares@cox.net> [1286]

  illustration_view.cpp
Display intended title instead of 'Loading document...'.

20050712T0146Z <chicares@cox.net> [1286]

  main_wx.cpp
Call SetAppName() and SetVendorName() explicitly in application ctor.
This is recommended practice, but does not seem to have the hoped-for
effect of forcing file history to be stored under an 'lmi' key in the
msw registry.

20050713T0020Z <chicares@cox.net> [1286]

  main_wx.cpp
Call wxConfigBase::Get() after SetAppName() and SetVendorName(). Now,
file history is stored under an 'lmi' key in the msw registry.

20050715T1239Z <chicares@cox.net> [1284]

  dbnames.xpp
  ihs_loads.cpp
  xenumtypes.cpp
  xenumtypes.hpp
Expunge unused enumerator 'e_asset_charge_load_before_ded'.

  xml_notebook.xrc
Clarify labels for extra loads and charges. These input fields had
been labeled as compensation, which is potentially confusing because
the system doesn't generally calculate compensation. The asset-based
charge applies only to separate-account assets, and it was potentially
confusing not to specify that. Other input skins left unchanged for
now because their users might already understand these issues and
might prefer to think of these fields as associated with compensation.

20050716T2252Z <chicares@cox.net> [1286]

  xenum.cpp
Flush 'alert' stream after writing to it.

  alert.hpp
  custom_io_0.cpp
Improve documentation.

  alert_wx.cpp
Add a sketch of an idea that may be useful someday.

  xenum_test.cpp
Document a defect.

20050718T0332Z <chicares@cox.net> [1288]

  dbnames.xpp
  ihs_acctval.cpp
  ihs_database.cpp
  interest_rates.cpp
  interest_rates.hpp
Withdraw support for dubious database entity 'DB_MiscFundCharge'. It
seems superfluous, and ancient comments suggested that different
authors disagreed on its meaning, so its correctness could hardly
be ascertained. Attempting to use it with a nonzero value produces a
message suggesting a different approach.

20050718T1624Z <chicares@cox.net> [1288]

  ihs_database.cpp
Improve diagnostics.

  ihs_loads.cpp
  loads.hpp
Refactor.

20050719T1309Z <chicares@cox.net> [1284]

  dbnames.xpp
Improve documentation.

  loads.cpp
  loads.hpp
  objects.make
Merge production and antediluvian branches of loads class.

20050719T2147Z <chicares@cox.net> [1284]

  ledger_invariant.cpp
Use last cell's 'PartMortTableMult' for composite, instead of zero.

  ledger_xml_io.cpp
Format 'PartMortTableMult' as an integral percentage.

20050720T1017Z <chicares@cox.net> [1285]

  GNUmakefile
Add circadian-test target.

20050720T1018Z <chicares@cox.net> [1285]

  illustration_reg.xsl             [new file]
  individual_private_placement.xsl [new file]
  nasd.xsl                         [new file]
Add xsl-fo stylesheets as of 2004-12-31.

20050720T1056Z <chicares@cox.net> [1285]

  illustration_reg.xsl
  individual_private_placement.xsl
  nasd.xsl
Update copyright year and email address; add RCS Id.

20050722T2103Z <wboutin@massmutual.com> [1288]

  INSTALL
Add mpatrol and sed installation instructions.

20050723T1440Z <chicares@cox.net> [1285]

  main_wx.cpp
Suppress startup banner for custom input.

20050724T1550Z <chicares@cox.net> [1286]

  msw_common.make
  objects.make
  posix_fhs.make
  setup.make
  workhorse.make
Revise treatment of third-party libraries. For libraries with exotic
build procedures (one of which even uses non-free tools), the lmi
makefiles create required objects in the normal way, as always. If
prebuilt libraries are available, as in some GNU/Linux distributions,
defining 'HAVE_THIRD_PARTY_LIBRARIES' skips local compilation. The
latest version of xmlwrapp (not yet tested with lmi) is supported if
'-DUSING_CURRENT_LIBXMLWRAPP' is passed in 'CPPFLAGS' (xmlwrapp has no
way to report its version unless its weird build system is used). The
libxml2 dll import library for msw is now referred to by the name most
commonly used.

20050724T1550Z <chicares@cox.net> [1286]

  msw_common.make
  workhorse.make
Expect third-party libraries in FHS-prescribed locations. Get rid of
makefile variables like $(cgicc_include_dir) and $(cgicc_source_dir),
which had been used only for msw only.

20050725T1247Z <chicares@cox.net> [1287]

  GNUmakefile
Improve circadian-test target.

  dbnames.xpp
Clarify meaning of 'AssetChargeType'.

  xml_notebook.xrc
Clarify meaning of 'extra' asset charge.

  ihs_acctval.cpp
Withdraw (flawed) support for tiered asset comp.

20050725T1338Z <chicares@cox.net> [1287]

  INSTALL
Revise treatment of third-party libraries.

20050726T0011Z <chicares@cox.net> [1285]

  ihs_acctval.cpp
Remove vestiges of defective tiered asset comp calculation.

20050729T1324Z <chicares@cox.net> [1285]

  GNUmakefile
Make quoting style consistent. Double quotes might seem preferable for
passing variables requiring expansion to submakefiles, e.g.,
  $(MAKE) -f some-submakefile OPTIONS="$(OPTIONS)" some-target
because that is the usual shell convention; but here gnu make is
passing a makefile variable, for which expansion occurs even within
single quotes. The reason for preferring single quotes is that double
quotes fail horribly in some cases on the msw platform, apparently
because make adds double quotes around the strings that represent
variable definitions when it passes them to submakefiles.

20050802T1238Z <chicares@cox.net> [1285]

  wx_workarounds.hpp
Conditionalize workarounds for older wx versions. See
  http://lists.gnu.org/archive/html/lmi/2005-08/msg00000.html

20050802T2108Z <chicares@cox.net> [1285]

  workhorse.make
Work around problems that boost causes with '-Wundef'.

20050802T2113Z <chicares@cox.net> [1285]

  main_cgi.cpp
Remove superfluous comment line.

20050802T2122Z <chicares@cox.net> [1285]

  any_member.hpp
Permit derived classes to use boost::noncopyable.

20050802T2123Z <chicares@cox.net> [1284]

  configurable_settings.cpp
  configurable_settings.hpp
Rewrite and document; add switch to govern hobsons_choice behavior.

20050802T2230Z <chicares@cox.net> [1285]

  alert.hpp
Prevent file and line number from displaying twice.

20050803T1444Z <chicares@cox.net> [1285]

  alert_cgi.cpp
  alert_cli.cpp
Prevent alert messages from displaying twice. For these interfaces,
don't offer hobsons_choice.

20050803T1748Z <chicares@cox.net> [1288]

  mathmisc.hpp
  mathmisc_test.cpp
  objects.make
Support another variety of stratified rates.

20050804T0220Z <chicares@cox.net> [1285]

  ihs_basicval.cpp
Correct a typo in a comment.

  illustration_view.cpp
  main_wx.cpp
  menus.xrc
  text_view.cpp
  text_view.hpp
Demonstrate a suspected wx defect. Building this way:
  make CPPFLAGS='-DNEW_EXCEPTION_HANDLER' install
is probably the easiest way to see it clearly. Please don't build it
that way unless you were specifically asked to in email.

20050805T1702Z <chicares@cox.net> [1286]

  alert_wx.cpp
  main_wx.cpp
  main_wx.hpp
  menus.xrc
  text_view.cpp
  text_view.hpp
Experimentally revamp error-handling facility for wx. Attempt to avoid
presenting the same messabebox twice. When Hobson's choice is offered,
change the default choice to make it halt the operation in which a
problem was detected and attempt to back up and resume safely; if the
nondefault choice is selected, then a new warning appears, explicitly
stating that "the illustration may be invalid". A new setting
  <offer_hobsons_choice>0</offer_hobsons_choice>
or
  <offer_hobsons_choice>1</offer_hobsons_choice>
in 'configurable_settings.xml' controls whether Hobson's choice is
even offered: a value of 1 offers it, and a value of 0 does not.
Expunge the no-longer-needed NEW_EXCEPTION_HANDLER macro.

20050805T2118Z <chicares@cox.net> [1283]

  ihs_avmly.cpp
Reflect GPT forceouts in approximate tax basis.

20050806T0240Z <chicares@cox.net> [1284]

  autodependency.make
Use '-MMD' instead of '-MD' for faster builds.

20050807T1552Z <chicares@cox.net> [1283]

  accountvalue.cpp
  group_values.cpp
  ihs_acctval.cpp
Refactor. Always call InitializeYear() independently when needed--not
in InitializeBOM(), where it had been called at the beginning of month
zero, which apparently skipped yearly initialization for inforce cases
run off anniversary.  Call DoMonthDR() only through IncrementBOM(),
using the latter function even if the run order is life by life; skip
experience rating in IncrementBOM() if the run order is not month by
month. For month-by-month census calculations, perform no operation on
a cell before its inforce duration.

20050807T2334Z <chicares@cox.net> [1273]

  account_value.hpp
  group_values.cpp
  ihs_acctval.cpp
Refactor. Remove an incorrect calculation of account value released on
death, which actually had no effect. Consolidate correct calculation
of account value released on death and claims calculations, with the
salubrious effect that net claims are now always calculated if partial
mortality is used.

20050808T0241Z <chicares@cox.net> [1273]

  group_values.cpp
  ihs_acctval.cpp
Refactor. Determine claims at the end of a yearly loop, not at the end
of a monthly loop depending on whether it's the last month in a year.

20050808T1601Z <chicares@cox.net> [1270]

  account_value.hpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
Refactor. Calculate partial-mortality q once, storing its value for
later use.

20050808T2356Z <chicares@cox.net> [1265]

  account_value.hpp
  accountvalue.cpp
  group_values.cpp
  ihs_acctval.cpp
Refactor. Avoid incrementing 'Year' and 'Month' counters in functions
called by loop drivers. Separate the calculation of experience-rating
projected mortality charge from its use. Call FinalizeYear() only
through IncrementEOY(), using the latter function even if the run
order is life by life.

20050810T1311Z <chicares@cox.net> [1265]

  account_value.hpp
  accountvalue.cpp
  group_values.cpp
  ihs_acctval.cpp
Add tentative diagnostic code, suppressed for the moment, to
investigate a change observed in experience rating.

[20050809T1233Z 'account_value.hpp' was committed without the other
files because of a problem with savannah cvs, and that broke the build
until 20050810T1311Z]

  workhorse.make
Remove old output before system test to avoid false positives.

20050810T1457Z <chicares@cox.net> [1252]

  account_value.hpp
  ihs_acctval.cpp
  ihs_avmly.cpp
Remove some superfluous stuff.

20050813T2345Z <chicares@cox.net> [1251]

  ihs_acctval.cpp
  ihs_mortal.cpp
  inputillus.cpp
  inputillus.hpp
  inputillus_sequences.cpp
  inputs.cpp
  inputs.hpp
Expunge deprecated input fields representing assumed assets and number
of lives at the case level. They weren't available in any contemporary
input skin. They weren't ever a good idea anyway: accurate values need
the exact assets and number of lives, and the approximations these
fields enabled weren't disclaimed on reports. The original intention
was to make it easy to run a single cell in a case whose cells are
interdependent, e.g., because total case assets determine the level of
the M&E charge. However, exact values should be available, and users
can easily get a similar approximation by running a one-cell census
and manipulating the number of identical lives.

20050816T1417Z <chicares@cox.net> [1248]

  account_value.hpp
  accountvalue.cpp
  ihs_acctval.cpp
  ihs_avmly.cpp
Make serial and parallel account-value calculations equivalent for
single-life input; temporarily swap serial and parallel calculations
in order to test this, before replacing them with a single common
implementation. Give AccountValue::TxSetDeathBft() a boolean argument
to force special end-of-year behavior: previously, it relied on the
side effect that AccountValue::Month, which is normally in [0,11],
would have the value 12 at year end, but that side effect didn't occur
for parallel calculations.

20050816T1617Z <chicares@cox.net> [1248]

  account_value.hpp
  accountvalue.cpp
  ihs_acctval.cpp
  ihs_avsolve.cpp
  solve.cpp
Merge serial and parallel account-value calculations for single-life
input.

20050817T1245Z <chicares@cox.net> [1248]

  ihs_acctval.cpp
  ihs_mortal.cpp
  ledger_invariant.cpp
  my_tier.cpp
  tiered_charges.cpp
  tiered_charges.hpp
  tiered_charges.xpp
Rename enumerators for tiered and banded entities.

20050817T1619Z <chicares@cox.net> [1248]

  account_value.hpp
  ihs_acctval.cpp
  tiered_charges.cpp
  tiered_charges.hpp
Implement banded separate-account load.

20050821T1200Z <chicares@cox.net> [1245]

  GNUmakefile
  about_dialog.cpp
  build.hpp [expunged]
  ledger_xml_io.cpp
  version.hpp
  workhorse.make
Rework build and version datestamps. Prevent superfluous relinking.
Display version in 'Help | About'. Version string 'LmiVersion' in xml
output now represents source version instead of build date, though
it's yet unused. A new makefile target marks release candidates.

20050822T1259Z <chicares@cox.net> [1257]

  stratified_algorithms.cpp      [new file]
  stratified_algorithms.hpp      [new file]
  stratified_algorithms_test.cpp [new file]
  stratified_charges.cpp         [new file]
  stratified_charges.hpp         [new file]
  stratified_charges.xpp         [new file]
Copied
  from mathmisc.cpp       to stratified_algorithms.cpp
  from mathmisc.hpp       to stratified_algorithms.hpp
  from mathmisc_test.cpp  to stratified_algorithms_test.cpp
  from tiered_charges.cpp to stratified_charges.cpp
  from tiered_charges.hpp to stratified_charges.hpp
  from tiered_charges.xpp to stratified_charges.xpp
in anticipation of expunging the files copied from.

20050822T1446Z <chicares@cox.net> [1245]

  mathmisc.cpp                   [expunged]
  mathmisc.hpp                   [expunged]
  mathmisc_test.cpp              [expunged]
  tiered_charges.cpp             [expunged]
  tiered_charges.hpp             [expunged]
  tiered_charges.xpp             [expunged]
Expunge files that have been renamed.

  antediluvian_stubs.cpp
  generate_product_files.cpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  ihs_basicval.cpp
  ihs_irc7702a.cpp
  ledger_invariant.cpp
  my_tier.cpp
  objects.make
  stratified_algorithms.cpp
  stratified_algorithms.hpp
  stratified_algorithms_test.cpp
  stratified_charges.cpp
  stratified_charges.hpp
Reflect renaming of 'stratified*' files.

20050822T1532Z <chicares@cox.net> [1246]

  stratified_algorithms.cpp
  stratified_algorithms.hpp
  stratified_algorithms_test.cpp
Improve documentation.

  ledger_invariant.cpp
  ledger_invariant.hpp
  ledger_xml_io.cpp
Remove unused support for printing tiered loads. If tiered and banded
loads are to be printed, a cleaner implementation will be needed. This
change causes regression-testing md5sums to mismatch.

  antediluvian_stubs.cpp
  basic_values.hpp
  generate_product_files.cpp
  ihs_basicval.cpp
  ihs_standalone.cpp
  my_tier.cpp
  stratified_charges.cpp
  stratified_charges.hpp
  stratified_charges.xpp
Rework and rename classes 'tiered_item_rep' and 'tiered_charges'.

20050822T1759Z <chicares@cox.net> [1246]

  basic_values.hpp
  basicvalues.cpp
  ledger_invariant.cpp
Fix a defect in the antediluvian branch.

  antediluvian_stubs.cpp
  ledger_invariant.cpp
Eradicate pointless dependencies.

  stratified_algorithms.hpp
Replace dubious boost::is_sorted(), which como rejected.

  diagnostics.sed
Improve diagnostic filtering for 'fancy.make'.

20050825T0005Z <chicares@cox.net> [1248]

  ihs_basicval.cpp
Mark a defect.

  workhorse.make
Mark a defect.

20050825T0122Z <chicares@cox.net> [1249]

  custom_io_0.cpp
  inputillus.cpp
  xml_notebook_single_premium.xrc
Change default inputs from
  ee premium 20000, er premium 0
to
  ee premium 0, er premium 20000
partially reverting the 2005-06-22 change. Reason: input skin
'xml_notebook_private_placement.xrc' has no input field for er
premium, so its users wouldn't be able to change it from 20000 to
zero; somewhat arbitrarily, this rationale regards ee premium as
more 'basic' than er premium, so it's not wholly satisfying.
In 'xml_notebook_single_premium.xrc', map the (one and only)
payment field to ee payment, with the regrettable effect that the
single premium shows up as ee premium on a supplemental report.
This dislikable workaround should be revisited later.

20050825T1242Z <chicares@cox.net> [1249]

  ihs_acctval.cpp
Conditionalize debugging code; soon it'll be removed altogether.

20050825T1549Z <chicares@cox.net> [1277]

  account_value.hpp
  basic_values.hpp
  ihs_acctval.cpp
  ihs_avmly.cpp
Add twenty-eight defects, hurriedly implementing a testable limit on
the banded portion of the account-value load. The build is no longer
clean: now the compiler prints warnings about obvious defects. This
expedient "seemed like a good idea at the time"; it's nothing but
gratuitous damage if it's not undone and completely reworked soon.

20050826T0253Z <chicares@cox.net> [1278]

  group_values.cpp
Temporarily suppress temporary debugging scaffold. The underlying
problem hasn't yet been resolved, but a monthly release draws nigh
and users would only be puzzled by these diagnostics.

20050827T1306Z <chicares@cox.net> [1278]

  ihs_avmly.cpp
Apply special limit only to banded account-value load.

20050827T1615Z <chicares@cox.net> [1279]

  objects.make
  vector_test.cpp [new file]
Demonstration of various arithmetic techniques to support discussion
on the lmi mailing list.

20050827T2248Z <chicares@cox.net> [1281]

  ihs_mortal.cpp
  mortality_rates.hpp
Refactor, consolidating database lookups.

20050828T1342Z <chicares@cox.net> [1282]

  ihs_mortal.cpp
Include only appropriate headers.

  mortality_rates.hpp
Improve documentation.

20050828T1409Z <chicares@cox.net> [1280]

  ihs_acctval.cpp
  ihs_mortal.cpp
  inputs.cpp
  inputs.hpp
  inputillus.cpp
  inputillus_xml_io.cpp
Expunge disused 'YearsOfZeroDeaths' and 'YrsPartMortYrsEqZero', which
weren't implemented correctly and are unnecessary because the same
effect can be obtained with the more general partial-mortality
multiplier.

20050828T1423Z <chicares@cox.net> [1279]

  inputs.cpp
  inputs.hpp
  inputillus.cpp
  inputillus_xml_io.cpp
Expunge disused 'SocialSecurityNumber' and 'InsdSSN', which would
raise privacy concerns.

20050828T1725Z <wboutin@massmutual.com> [1279]

  xml_notebook.xrc
Reformat for control-selection readability.

20050828T2120Z <wboutin@massmutual.com> [1280]

  INSTALL
  setup.make
Add requirements for build environment.

20050828T2136Z <chicares@cox.net> [1282]

  rounding_rules.hpp
Correct a typographical error in a comment.

  accountvalue.cpp
Include only appropriate headers.

  actuarial_table.cpp
Improve a diagnostic message.

20050828T2241Z <chicares@cox.net> [1286]

  ihs_mortal.cpp
  mortality_rates.hpp
Refactor, consolidating calls to class BasicValues.

20050829T1132Z <chicares@cox.net> [1286]

  ihs_mortal.cpp
  mortality_rates.hpp
Refactor, removing a superfluous assertion.

20050829T1405Z <chicares@cox.net> [1286]

  my_tier.cpp
Fix breakage.

20050829T1606Z <chicares@cox.net> [1286]

  group_values.cpp
Prevent spuriously doubled '..' in generated file names.

20050830T0354Z <chicares@cox.net> [1293]

  ledger_invariant.cpp
  ledger_variant.cpp
  path_utility.cpp
Correct spelling to conform to Compact OED.

  actuarial_table.cpp
  basic_values.hpp
  ihs_basicval.cpp
  ihs_mortal.cpp
Prevent reading tables that needn't exist. For instance, no table of
WP rates is needed for a product that doesn't offer WP. Previously,
functions like BasicValues::GetWPRates() were unsafe to call without
first ascertaining that the product offers WP; now, they just return
a properly-sized vector of zeros.

20050831T1747Z <chicares@cox.net> [1293]

  file_command_cgi.cpp
  file_command_cli.cpp
  ledgervalues.cpp
  loads.cpp
Leave legitimately unused parameters unnamed.

  main_cgi.cpp
Don't evaluate undefined macros.

  workhorse.make
Enable extra gcc warnings for non-wx code. This exposes poor usage in
cgicc, for which a patch will be provided later.

20050901T2058Z <wboutin@massmutual.com> [1293]

  INSTALL
  setup.make
Improve setup requirements.

20050902T1553Z <wboutin@massmutual.com> [1293]

  xml_notebook_private_placement.xrc
  xml_notebook_coli_boli.xrc
Fix two defects, unmasking another.

  INSTALL
Update md5sum.

20050903T0020Z <chicares@cox.net> [1294]

  calendar_date.cpp
  passkey_test.cpp
Improve ISO 8601 conformance.

20050903T0046Z <chicares@cox.net> [1292]

  toolbar.xrc
Remove irrelevant tags.

20050903T0055Z <chicares@cox.net> [1289]

  ihs_mortal.cpp
  mortality_rates.hpp
Factor out many dependencies on class BasicValues.

20050903T0245Z <chicares@cox.net> [1289]

  INSTALL
Remove nonempty blank line.

  setup.make
Review. Experimentally use cvs as a code review system, writing
interlinear glosses containing the tag "REVIEW:", in the expectation
that they will either be removed silently if accepted and followed, or
lead to further discussion, whether in cvs or on the lmi mailing list.

20050903T1523Z <chicares@cox.net> [1291]

  ihs_mortal.cpp
  mortality_rates.hpp
Sequester all dependencies on class BasicValues.

20050903T2355Z <chicares@cox.net> [1293]

  GNUmakefile
Improve consistency checking.

  commutation_functions_test.cpp
  custom_io_0.cpp
  ihs_basicval.cpp
  ihs_dbvalue.cpp
  ihs_irc7702.cpp
  ihs_mortal.cpp
  ihs_standalone.cpp
  interest_rates.cpp
  ledger_base.cpp
  ledger_text_formats.cpp
  loads.cpp
  mortality_rates.cpp
Add expression-template glosses.

20050904T1705Z <chicares@cox.net> [1293]

  vector_test.cpp
Improve documentation.

  timer.hpp
Improve output.

  expression_template_0_test.cpp [new file]
  objects.make
Investigate expression templates.

20050905T0427Z <chicares@cox.net> [1293]

  expression_template_0_test.cpp
Refactor to facilitate extension.

  bcc_5_5_1.make
Work around a problem with the boost build system that we eschew.

  setup.make
  workhorse.make
Use a more portable path for third-party libraries, following boost
  http://www.boost.org/more/lib_guide.htm#Directory_structure
recommendations. Any
  /opt/lmi/third-party/
directory must be renamed to
  /opt/lmi/third_party/
with an underscore instead of a hyphen.

20050906T0321Z <chicares@cox.net> [1292]

  vector_test.cpp
Clean up old experiments.

20050906T1352Z <chicares@cox.net> [1292]

  expression_template_0_test.cpp
Clean up new experiments.

20050907T0304Z <chicares@cox.net> [1290]

  account_value.hpp
  accountvalue.cpp
  basic_values.hpp
  basicvalues.cpp
  group_values.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_basicval.cpp
  ihs_dbughdr.hpp
  ihs_mortal.cpp
  mortality_rates.cpp
  mortality_rates.hpp
Reimplement COI retention, rectifying names.

20050908T1240Z <wboutin@massmutual.com> [1290]

  cgicc_3_1_4_patch           [new file]
  cgicc-patch-gwc-20050217    [renamed to cgicc_3_1_4_patch]
  INSTALL
  setup.make
  xmlwrapp_0_2_0_patch        [new file]
  xmlwrapp-patch-gwc-20050217 [renamed to xmlwrapp_0_2_0_patch]
Remove embedded dates from filenames, which don't belong in cvs.

20050908T1304Z <wboutin@massmutual.com> [1290]

  GNUmakefile
Improve conformance.

  cgicc_3_1_4_patch
  INSTALL
Patch cgicc-3.1.4 to prevent compiler warnings.

20050908T2303Z <chicares@cox.net> [1290]

  input_harmonization.cpp
  inputillus.cpp
  inputillus.hpp
  inputillus_sequences.cpp
Stop overriding user-specified general-account rates. This refines
the 20050626T2301Z modifications.

20050909T0042Z <wboutin@massmutual.com> [1288]

  INSTALL
Improve documentation.

  msw_cygwin.make
  msw_generic.make
  msw_msys.make
  posix_fhs.make
  setup.make
Redefine several tools.

20050909T0123Z <chicares@cox.net> [1289]

  ihs_avmly.cpp
Refine NAAR calculation.

20050909T0403Z <wboutin@massmutual.com> [1288]

  INSTALL
  msw_cygwin.make
  msw_generic.make
  msw_msys.make
  posix_fhs.make
  setup.make
Add new tool for automating setup environment.

20050911T2219Z <chicares@cox.net> [1287]

  account_value.hpp
  accountvalue.cpp
  ihs_acctval.cpp
Cache certain database values.

  database.cpp
  ihs_database.cpp
Merge TDatabase::ConstrainScalar() implementations.

20050912T0132Z <chicares@cox.net> [1280]

  actuarial_table.cpp
  ce_product_name.cpp
  census_view.cpp
  configurable_settings.cpp
  custom_io_0.cpp
  database.cpp
  fenv_lmi.cpp
  global_settings.cpp
  global_settings_test.cpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_basicval.cpp
  ihs_database.cpp
  ihs_dbdict.cpp
  ihs_dbvalue.cpp
  ihs_irc7702.cpp
  ihs_irc7702a.cpp
  ihs_proddata.cpp
  ihs_rnddata.cpp
  illustration_view.cpp
  input_seq_helpers.hpp
  input_sequence.cpp
  input_test.cpp
  inputillus.cpp
  inputillus_sequences.cpp
  inputs.cpp
  interest_rates.cpp
  ledger.cpp
  ledger_base.cpp
  ledger_xml_io.cpp
  loads.cpp
  main_cgi.cpp
  mc_enum.cpp
  mc_enum.tpp
  mc_enum_test.cpp
  multiple_cell_document.cpp
  objects.make
  security.cpp
  single_cell_document.cpp
  stratified_charges.cpp
  tn_range.tpp
  xml_notebook.cpp
Revise error handling. Most errors that formerly offered Hobson's
Choice should not have. Many were unrecoverable, and unsafe to bypass.
Many others were certain to produce invalid results. Removed unneeded
headers. The old method--using std::ostringstream to create an error
message, then throwing a standard exception--is still used in a few
modules that could conceivably be used as standalone libraries.

20050912T1536Z <chicares@cox.net> [1280]

  group_values.cpp
Refine experience-rating specification.

20050912T1630Z <wboutin@massmutual.com> [1280]

  INSTALL
  setup.make
Improve conformance.

20050914T1416Z <chicares@cox.net> [1280]

  objects.make
Clarify.

  alert.hpp
  alert.cpp
  alert_cli.cpp
  alert_wx.cpp
  main_wx.cpp
  menus.xrc
  text_view.cpp
  text_view.hpp
Refine error handling and associated GUI tests.

20050914T1853Z <chicares@cox.net> [1270]

  xml_notebook.xrc
Add a new 'ExperienceRatingInitialKFactor' field.

20050916T0326Z <chicares@cox.net> [1270]

  ihs_avmly.cpp
Mark a newly-discovered defect.

20050916T1733Z <chicares@cox.net> [1270]

  xml_notebook.xrc
Improve layout of first-year extra premium.

20050917T0405Z <chicares@cox.net> [1272]

  tn_range_type_trammels.hpp
  tn_range_types.cpp
  tn_range_types.hpp
Add unrestricted double type.

  input.cpp
  input.hpp
  input_harmonization.cpp
  inputillus.cpp
  inputillus.hpp
  inputs.cpp
  inputs.hpp
Add new experience-rating input fields.

  ihs_acctval.cpp
  ihs_basicval.cpp
Forbid certain conflicts.

20050918T0122Z <chicares@cox.net> [1268]

  dbdict.cpp
  dbnames.hpp
  dbnames.xpp
  ihs_database.cpp
  ihs_dbdict.cpp
  ihs_mortal.cpp
  interest_rates.cpp
  mortality_rates.cpp
  mortality_rates.hpp
Remove most vestiges of deprecated database entities:
  UsePMQOnCurrCOI
  MiscFundCharge
  MgmtFeeFundCharge
  HCVSpread
  ExtraHMSpreadonCV
  ExpRatCoiMultGuar
  ExpRatCoiMultAlt
  ExpRatCoiMultCurr0
  ExpRatCoiMultCurr1
in anticipation of removing those entities utterly.

  group_values.cpp
  ihs_basicval.cpp
Consolidate a consistency test.

20050919T1300Z <chicares@cox.net> [1265]

  group_values.cpp
Use input initial k factor.

  ihs_avmly.cpp
Revise experience-rating retention.

  ihs_mortal.cpp
Improve documentation.

  ihs_acctval.cpp
Correct a defect: absent a group context, k factor should be unity.
Formerly, it was set to zero, which caused mortality charges to be
uniformly zero.

20050919T1935Z <wboutin@massmutual.com> [1265]

  xml_notebook.xrc
  xml_notebook_coli_boli.xrc
  xml_notebook_private_placement.xrc
Refine interface skins: correct a flag; add one new field; label
several fields more precisely.

20050922T0319Z <chicares@cox.net> [1265]

  census_view.cpp
  group_values.cpp
Shorten some excessively-long lines.

20050922T0358Z <chicares@cox.net> [1265]

  group_values.cpp
Rename some local variables; delete another that was superfluous.

20050922T0512Z <chicares@cox.net> [1265]

  group_values.cpp
Remove a delusive optimization.

20050922T1426Z <wboutin@massmutual.com> [1265]

  cgicc_md5sums [new file]
  GNUmakefile
  setup.make
Add validation for one tool.

20050922T1600Z <chicares@cox.net> [1265]

  GNUmakefile
  setup.make
Refactor and reformat.

20050922T1619Z <chicares@cox.net> [1264]

  ihs_acctval.cpp
  ledger_variant.cpp
Change meaning of 'ExpRatRsvCash', rendering it equivalent to
'ExpRatRsvForborne' on a composite. Only the latter is used in actual
practice, and perhaps the former should be expunged; until a decision
is made, this change is intended to prevent false negative results in
regression testing.

20050922T2019Z <wboutin@massmutual.com> [1264]

  setup.make
  xmlwrapp_md5sums [new file]
Add validation for another tool.

20050923T0334Z <chicares@cox.net> [1264]

  account_value.hpp
  accountvalue.cpp
  ihs_acctval.cpp
Add experimental functions to report inforce lives.

20050923T1436Z <chicares@cox.net> [1264]

  group_values.cpp
  ihs_acctval.cpp
Prepare to change experience-rating implementation. This is the last
version that reproduces old regression-testing results. Errors in
those results are written to the console. Such errors may arise when
a cell lapses or matures, or when its corridor factor is unity.

20050924T1513Z <chicares@cox.net> [1267]

  account_value.hpp
  accountvalue.cpp
  group_values.cpp
  ihs_acctval.cpp
Apportion experience reserve uniformly across inforce lives.

20050924T1827Z <chicares@cox.net> [1266]

  account_value.hpp
  accountvalue.cpp
  group_values.cpp
  ihs_acctval.cpp
  ledger_variant.cpp
Refactor.

20050924T1910Z <chicares@cox.net> [1265]

  group_values.cpp
  ihs_acctval.cpp
  ledger_variant.cpp
  ledger_variant.hpp
Refactor.

20050926T0110Z <chicares@cox.net> [1267]

  ihs_acctval.cpp
Improve documentation.

  ihs_avdebug.cpp
Document a defect.

  ledger_text_formats.cpp
Add net claims and experience-rating reserve to 'spreadsheet' output.

  group_values.cpp
Temporarily resurrect an old testing scaffold. This is distasteful
because it's intrusive, not general, and bloats the code, (as may also
be said of code guarded by
  DEBUGGING_SEP_ACCT_LOAD
  DEBUGGING_SC
as the present addition is guarded by
  SHOW_EXPERIENCE_RATING_REPORT
) but it's temporarily impossible for "business" reasons to do this in
the most natural way.

20050926T0127Z <chicares@cox.net> [1267]

  accountvalue.cpp
  group_values.cpp
Enable monthly detail report for parallel runs.

20050926T0148Z <chicares@cox.net> [1265]

  group_values.cpp
Remove old testing scaffold.

20050927T0203Z <chicares@cox.net> [1265]

  basic_values.hpp
  dbnames.xpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  ihs_basicval.cpp
  ihs_dbdict.cpp
Withdraw support for unneeded 'DB_DynamicCOI'.

20050927T1306Z <chicares@cox.net> [1270]

  ihs_avmly.cpp
Revise comments.

20050927T1400Z <chicares@cox.net> [1263]

  ihs_avmly.cpp
Resolve or demote certain defects.

20050927T1649Z <chicares@cox.net> [1260]

  account_value.hpp
  dbnames.hpp
  dbnames.xpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
  ihs_dbdict.cpp
  ihs_dbughdr.hpp
  ledger_text_formats.cpp
  ledger_variant.cpp
  ledger_variant.hpp
  ledger_xml_io.cpp
  loads.cpp
  loads.hpp
  xenumtypes.cpp
  xenumtypes.hpp
Purge misbegotten beginning-of-month separate-account load.

20050929T0047Z <chicares@cox.net> [1255]

  basic_values.hpp
  basicvalues.cpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  ihs_basicval.cpp
  ihs_standalone.cpp
  ledger_invariant.cpp
  loads.cpp
Remove defects.

20050930T0033Z <chicares@cox.net> [1252]

  account_value.hpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
Remove defects.

20050930T1331Z <chicares@cox.net> [1252]

  GNUmakefile
Fortify against errors.

  ihs_acctval.cpp
  ihs_avmly.cpp
Mark pressing issues created by the 20050825T1549Z changes.

20051001T1752Z <chicares@cox.net> [1252]

  ledger_invariant.cpp
  ledger_variant.cpp
  ledger_variant.hpp
Mark pressing issues.

  menus.xrc
  toolbar.xrc
Improve consistency.

20051003T1255Z <chicares@cox.net> [1252]

  GNUmakefile
Suggest declaring a release candidate if it seems overdue.

  loads.cpp
  loads.hpp
Refactor.

20051003T1802Z <chicares@cox.net> [1253]

  ihs_acctval.cpp
  ihs_avmly.cpp
Hastily work around a problem that obstructs testing.

20051004T0536Z <chicares@cox.net> [1259]

  loads.cpp
  loads.hpp
  loads_impl.hpp
  loads_test.cpp
  objects.make
Add inchoate unit test for loads class.

20051005T1343Z <chicares@cox.net> [1256]

  math_functors.hpp
Add approximate workarounds for toolsets lacking expm1() and log1p().
This enables more unit tests to be built with como, e.g.

  progress_meter.hpp
Reformat for consistency with similar headers.

  loads_impl.hpp
  loads_test.cpp
Remove defects.

20051005T1415Z <wboutin@massmutual.com> [1256]

  INSTALL
  setup.make
Add MinGW toolchain.

20051005T1707Z <chicares@cox.net> [1256]

  basic_values.hpp
  basicvalues.cpp
  ihs_acctval.cpp
  ihs_basicval.cpp
  interest_rates.cpp
  interest_rates.hpp
  loads.cpp
  loads.hpp
  loads_impl.hpp
  loads_test.cpp
Refactor illustration-reg applicability.

20051006T1414Z <chicares@cox.net> [1256]

  ihs_avdebug.cpp
  ihs_dbughdr.hpp [expunged]
Move contents of header into the only file that included it.

20051006T1458Z <chicares@cox.net> [1259]

  account_value.hpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
Refactor separate-account load. On monthly output: show each month's
separate-account load, instead of its year-to-date accumulated value;
show the assets and cumulative payments used to determine it; and show
annual policy fee only in the first month.

20051006T1802Z <chicares@cox.net> [1253]

  account_value.hpp
  accountvalue.cpp
  group_values.cpp
  ihs_acctval.cpp
  ihs_avmly.cpp
Refactor.

20051007T0212Z <chicares@cox.net> [1253]

  ihs_avmly.cpp
Include annual policy fee in monthly deductions.

  ihs_acctval.cpp
Remove testing scaffold for separate-account load. It was supplanted
20051006T1458Z by the enhanced monthly output.

20051007T1256Z <chicares@cox.net> [1253]

  account_value.hpp
  ihs_acctval.cpp
  ihs_avdebug.cpp
  ihs_avmly.cpp
Refactor policy fees and specified-amount load.

20051008T0012Z <chicares@cox.net> [1252]

  account_value.hpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  ihs_basicval.cpp
Rename variables.

20051008T1537Z <chicares@cox.net> [1253]

  ledger_text_formats.cpp
Improve a report.

20051008T1644Z <chicares@cox.net> [1246]

  ledger_xml_io.cpp
  ledger_invariant.cpp
  ledger_invariant.hpp
Remove an obsolete artifact.

20051008T1825Z <chicares@cox.net> [1240]

  ledger_invariant.cpp
  ledger_invariant.hpp
  ledger_variant.cpp
  ledger_variant.hpp
Improve documentation.

20051009T2247Z <chicares@cox.net> [1240]

  ledger_base.cpp
Anticipate change in '.test' output format, to facilitate testing.
Check out full source as of this moment to produce regression-test
results with present contents in new fields.

20051009T2325Z <chicares@cox.net> [1230]

  account_value.hpp
  accountvalue.cpp
  dbnames.xpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  ledger_invariant.cpp
  ledger_invariant.hpp
  ledger_text_formats.cpp
  ledger_variant.cpp
  ledger_variant.hpp
  ledger_xml_io.cpp
  mc_enum_types.cpp
  mc_enum_types.hpp
  mc_enum_types.xpp
Rename some ledger fields; expunge others.

  ledger_base.cpp
  ledger_base.hpp
Revert 20051009T2247Z anticipatory change: the new format now arises
naturally.

20051010T1658Z <chicares@cox.net> [1230]

  ledger_text_formats.cpp
  ledger_variant.cpp
Show new experience-rating fields in reports.

20051011T0228Z <chicares@cox.net> [1230]

  ihs_acctval.cpp
Correct an experience-rating defect: the projected mortality charge
had not been multiplied by
  "the proportion surviving into the about-to-begin year"
as the specifications in 'group_values.cpp' require.

20051011T1556Z <chicares@cox.net> [1230]

  group_values.cpp
Correct experience-rating specification. The k factor should be set to
unity when the projected mortality charge is zero, instead of to zero
as the specifications hitherto prescribed. The code already reflected
this change.

20051012T0320Z <chicares@cox.net> [1230]

  account_value.hpp
  accountvalue.cpp
  group_values.cpp
  ihs_acctval.cpp
  ledger_text_formats.cpp
Correct an experience-rating defect: use net mortality charge where
required, instead of the actual charge deducted from account value.

20051013T0105Z <chicares@cox.net> [1229]

  ihs_basicval.cpp
Remove unneeded header.

  ledger_text_formats.cpp
Remove obsolete comment.

  materially_equal.hpp
  materially_equal_test.cpp
Add tool for avoiding catastrophic cancellation.

20051013T0135Z <chicares@cox.net> [1229]

  ihs_acctval.cpp
  ihs_avmly.cpp
  ledger_invariant.cpp
Avoid catastrophic cancellation.

20051013T1355Z <chicares@cox.net> [1230]

  ihs_avmly.cpp
Improve documentation.

  ledger_xsl.cpp
Scale ledger prn before printing.

20051014T1340Z <chicares@cox.net> [1234]

  ledger.cpp
  ledger.hpp
  ledger_xsl.cpp
Document several defects.

20051015T1545Z <chicares@cox.net> [1234]

  ledger.cpp
Correct a defect introduced 20051014T1340Z.

20051016T1427Z <chicares@cox.net> [1234]

  ledger_text_formats.cpp
Show more experience-rating detail.

20051016T1636Z <chicares@cox.net> [1234]

  xenumtypes.cpp
Improve documentation.

  ihs_mortal.cpp
  input.hpp
  inputillus.hpp
  inputillus_xml_io.cpp
  inputs.hpp
  mortality_rates.hpp
Partially remove disused 'mortality grading' feature, marking the
surviving vestiges for expunction when convenient.

20051017T1548Z <chicares@cox.net> [1234]

  database.hpp
Support unit testing.

  loads.hpp
  loads_test.cpp
  objects.make
Improve unit test.

20051017T1732Z <chicares@cox.net> [1234]

  mc_enum_types.xpp
Fix two column names that were incompatible with 20051009T2325Z
changes.

20051018T0011Z <chicares@cox.net> [1236]

  account_value.hpp
  ihs_acctval.cpp
  ihs_avmly.cpp
Refactor.

20051018T1657Z <chicares@cox.net> [1236]

  ihs_avdebug.cpp
  ihs_irc7702.cpp
Remove unneeded header.

  ihs_dbvalue.cpp
  mortality_rates.cpp
Document reason for including a certain header.

20051019T0153Z <chicares@cox.net> [1236]

  account_value.hpp
  ihs_acctval.cpp
  ihs_avmly.cpp
Refactor.

20051019T1712Z <chicares@cox.net> [1236]

  ledger_xml_io.cpp
Reformat a column title.

20051019T2052Z <wboutin@massmutual.com> [1239]

  setup.make
Refactor.

20051020T0236Z <chicares@cox.net> [1238]

  ihs_avmly.cpp
  stratified_charges.cpp
  stratified_charges.hpp
Refactor.

20051020T0236Z <chicares@cox.net> [1238]

  setup.make
Review.

20051020T1527Z <chicares@cox.net> [1231]

  basic_values.hpp
  ihs_avmly.cpp
Improve documentation.

20051020T1630Z <chicares@cox.net> [1231]

  ihs_avmly.cpp
Address a defect that escaped regression testing.

20051020T2027Z <wboutin@massmutual.com> [1231]

  setup.make
Improve documentation.

20051021T1658Z <chicares@cox.net> [1231]

  GNUmakefile
Simplify a command.

  census_view.hpp
  text_view.hpp
Resolve idempotence-testing issues.

  input.cpp
Prevent a compiler diagnostic.

  workhorse.make
Treat warnings as errors.

  version.hpp
Mark release candidate.

20051028T1808Z <wboutin@massmutual.com> [1232]

  setup.make
  mingw_setup.make [new file]
Create stand-alone MinGW installation.

20051030T1906Z <vadim@tt-solutions.com> [1232]

  calculate.hpp
Work around a gcc-3.3 diagnostic.

20051030T2046Z <vadim@tt-solutions.com> [1232]

  callback.hpp
Correct a defect: use 'typename' where required.

20051031T0145Z <vadim@tt-solutions.com> [1233]

  config.hpp
Include 'config.h' if supplied by autotools.

  .cvsignore [new file]
Ignore files generated by autotools.

  autogen.sh   [new file]
  configure.ac [new file]
  Makefile.am  [new file]
Autotoolize.

20051031T0342Z <chicares@cox.net> [1233]

  diagnostics.sed
Improve diagnostic filtering for 'windres'.

  workhorse.make
Adjust warnings for gcc-3.4.4 .

  config.hpp
  config_all.hpp
  config_ming323.hpp
  expm1.c
  fenv_lmi.cpp
  math_functors.hpp
Adapt to MinGW gcc-3.4.4 in anticipation of supporting it.

20051031T1304Z <chicares@cox.net> [1233]

  callback.hpp
Note boost::function as a possible alternative.

20051031T1403Z <vadim@tt-solutions.com> [1233]

  numeric_io_traits.hpp
Add autotools tests for various functions not in C++98.

20051031T1405Z <vadim@tt-solutions.com> [1233]

  config.hpp
Autotoolize.

20051031T1446Z <vadim@tt-solutions.com> [1233]

  platform_dependent.hpp
Work around a conflict between __STRICT_ANSI__ and the expm1() and
log1p() functions.

20051031T1458Z <wboutin@massmutual.com> [1232]

  mingw_setup.make
Refactor and improve documentation.

20051031T1809Z <chicares@cox.net> [1232]

  como_4_3_3.make
  diagnostics.sed
  expm1.c
  math_functors.hpp
  xenum_sample.cpp
  xenumtypes.cpp
Address various comeau issues.

20051031T1816Z <chicares@cox.net> [1232]

  numeric_io_test.cpp
Tighten condition for a compiler workaround.

20051101T0459Z <chicares@cox.net> [1232]

  alert_cli.cpp
Explain the cause of a benign EDG warning.

  math_functors_test.cpp
Remove unreferenced variables.

20051101T0558Z <chicares@cox.net> [1232]

  platform_dependent.hpp
Rework the 20051031T1446Z change, which broke the build because
<cmath> cannot be included when compiling C.

20051101T1756Z <chicares@cox.net> [1232]

  ledger.hpp
Make ctor explicit.

20051101T1757Z <chicares@cox.net> [1232]

  comma_punct_test.cpp
Tighten condition for a compiler-version-specific message.

20051101T1800Z <chicares@cox.net> [1232]

  bcc_5_5_1.make
  como_4_3_3.make
Prevent determining gcc version for non-gcc toolsets.

20051101T1503Z <vadim@tt-solutions.com> [1231]

  Makefile.am
  README.auto
Refine autotoolization.

20051102T0336Z <chicares@cox.net> [1231]

  INSTALL
Use double-hyphen command option.

  configure.ac
Remove non-empty blank line.

20051102T0448Z <chicares@cox.net> [1231]

  calculate.hpp
Explain a compiler workaround.

20051102T0651Z <chicares@cox.net> [1231]

  streamable.hpp
Add an explicit virtual dtor.

20051102T1553Z <chicares@cox.net> [1231]

  config.hpp
Refactor.

20051102T1723Z <chicares@cox.net> [1231]

  platform_dependent.hpp
Improve documentation.

20051102T1746Z <chicares@cox.net> [1231]

  tn_range_test.cpp
Fix order of header inclusion.

20051103T0029Z <chicares@cox.net> [1231]

  config.hpp
Refactor.

20051103T0030Z <chicares@cox.net> [1231]

  comma_punct_test.cpp
Fix defective 20051101T1757Z revision.

20051103T0453Z <chicares@cox.net> [1232]

  GNUmakefile
Complain about certain reserved identifiers.

  ihs_dbvalue.cpp
  ihs_fpios.cpp
  ihs_fpios.hpp
  ihs_pios.hpp
  md5.hpp
Replace reserved identifiers.

20051103T0614Z <chicares@cox.net> [1232]

  main_wx.cpp
Revert to prior revision.

20051103T1455Z <chicares@cox.net> [1232]

  numeric_io_traits.hpp
Revert to prior revision.

20051103T1854Z <chicares@cox.net> [1233]

  GNUmakefile
Exempt __CYGWIN__ from reserved-identifier check.

  numeric_io_traits.hpp
Add cygwin workaround.

20051103T2128Z <wboutin@massmutual.com> [1233]

  setup.make
Add 'sed-4.0.7' .

20051103T2220Z <wboutin@massmutual.com> [1233]

  INSTALL
Remove tools that 'setup.make' now automates.

  setup.make
Refactor.

20051104T0003Z <chicares@cox.net> [1233]

  README.auto
Add copyright notice.

  GNUmakefile
Regain clean 'check_conformity' output.

20051104T1344Z <chicares@cox.net> [1233]

  mingw_setup.make
  setup.make
Review.

20051104T1421Z <chicares@cox.net> [1233]

  diagnostics.sed
Filter expected regression-test output.

20051104T1836Z <chicares@cox.net> [1233]

  config_ming323.hpp
Correct a comment.

20051105T0357Z <chicares@cox.net> [1233]

  census_view.cpp
  group_values.cpp
  ihs_acctval.cpp
  ihs_avmly.cpp
  input_harmonization.cpp
  inputillus_sequences.cpp
Increase the severity of numerous diagnostics. This is an experimental
change; subject to testing, it may need to be reverted.

20051105T1952Z <chicares@cox.net> [1233]

  workhorse.make
Adjust debug flags for gcc-3.4.2 only.

20051106T1528Z <chicares@cox.net> [1232]

  census_document.hpp
  census_view.hpp
  docmanager_ex.hpp
Qualify forward declarations of wx classes with WXDLLEXPORT.

  ihs_fpios.hpp
Rewrite conditional directives.

  workhorse.make
Refactor for backward compatibility. '-Wendif-labels' should never
have been specified: see
  http://gcc.gnu.org/bugzilla/show_bug.cgi?id=16323

20051106T1546Z <chicares@cox.net> [1232]

  config_all.hpp
  ncnnnpnn.hpp
  numeric_io_traits.hpp
Rewrite conditional directives.

20051107T0130Z <chicares@cox.net> [1233]

  alert.cpp
  any_member.hpp
  callback.hpp
  diagnostics.sed
  math_functors.hpp
  mc_enum.hpp
  numeric_io_cast.hpp
  numeric_io_traits.hpp
  quiet_nan.hpp
  round_to.hpp
  secure_date.hpp
  stream_cast.hpp
  tn_range.hpp
  value_cast.hpp
  xrange.hpp
Address various borland issues.

20051107T0248Z <chicares@cox.net> [1232]

  config.hpp
  config_como_mingw.hpp [new file]
  diagnostics.sed
  numeric_io_cast.hpp
  numeric_io_traits.hpp
  snprintf_test.cpp
Address various comeau issues.

20051108T2354Z <chicares@cox.net> [1232]

  config_all.hpp
  ncnnnpnn.hpp
Remove a disused configuration option.

20051109T0500Z <chicares@cox.net> [1231]

  diagnostics.sed
Improve filtering of expected gcc output.

  GNUmakefile
  config.hpp
  config_all.hpp [expunged]
  config_bc551.hpp
  config_como_mingw.hpp
  config_ming323.hpp
Refactor configuration.

20051110T1559Z <chicares@cox.net> [1231]

  ledger.cpp
  ledger.hpp
Prevent a defect reported yesterday from causing a segfault.

20051110T1609Z <chicares@cox.net> [1231]

  ledger_text_formats.cpp
Remove a defect reported yesterday. It was introduced on 20051016; see
the 'ChangeLog' entry for 20051016T1427Z.

20051112T1905Z <chicares@cox.net> [1231]

  wx_new.hpp
Reformat.

  GNUmakefile
  como_4_3_3.make
  config.hpp
  config_como_mingw.hpp
Improve comeau support.

20051115T1935Z <chicares@cox.net> [1230]

  obstruct_slicing.hpp
  obstruct_slicing_test.cpp
Revise documentation.

  interest_rates.cpp
Increase the severity of two diagnostics. They are unreachable today
except with the most-secure password, but they are now fatal errors
just in case access to the features they concern is liberalized.

20051116T1550Z <chicares@cox.net> [1230]

  version.hpp
Mark release candidate.

20051117T0349Z <chicares@cox.net> [1230]

  GNUmakefile
  workhorse.make
Fix a defect: wx-dependent template-instantiation (.tpp) files need
relaxed warnings in idempotence test.

20051117T1653Z <chicares@cox.net> [1228]

  GNUmakefile
Remove an obsolete defect marker. Almost all graphics files are now
in '.xpm' format. For msw, an application requires one '.ico'.

  configuration.make
Expunge an unused variable.

20051118T0606Z <chicares@cox.net> [1230]

  GNUmakefile
Test validity of xml files.

  ihs_acctval.cpp
  ledger_invariant.cpp
  ledger_invariant.hpp
  ledger_xml_io.cpp
Report inforce year and month.

20051118T0606Z <chicares@cox.net> [1230]

  GNUmakefile
Test validity of xml files.

20051119T0013Z <chicares@cox.net> [1230]

  version.hpp
Mark release candidate.

20051119T0017Z <chicares@cox.net> [1230]

  GNUmakefile
Refine 'release_candidate' target.

20051122T2032Z <wboutin@massmutual.com> [1230]

  mc_enum.tpp
Reformat diagnostic message.

  xml_notebook_coli_boli.xrc
Remove data the system already handles.

  ihs_acctval.cpp
Improve conformance.

  xml_notebook_single_premium.xrc
Reformat and remove defect #14006.

20051123T0359Z <chicares@cox.net> [1228]

  GNUmakefile
Fix minor shortcomings.

  workhorse.make
Resolve a marked defect.

  file_command.cpp
  ihs_acctval.cpp
  main_wx.hpp
Reformat.

  main_wx.cpp
Validate FPU settings on normal exit.

  dbvalue.cpp
  ihs_dbvalue.cpp
Fix defective comments.

  xml_notebook.cpp
Improve a diagnostic message.

20051123T0410Z <chicares@cox.net> [1228]

  file_command.cpp
  main_wx.hpp
Reformat.

20051123T1925Z <chicares@cox.net> [1229]

  mc_enum_test.cpp
  test_tools.hpp
  test_tools_test.cpp
Strengthen a unit test, revealing a problem with the 20051122T2032Z
change.

20051123T1932Z <wboutin@massmutual.com> [1229]

  mc_enum.tpp
Revert 20051122T2032Z change.

20051123T2025Z <wboutin@massmutual.com> [1229]

  mc_enum_test.cpp
Fix broken unit test.

20051124T0522Z <chicares@cox.net> [1228]

  census_document.cpp
  census_view.cpp
  illustration_document.cpp
  illustration_view.cpp
  main_wx.cpp
  text_doc.cpp
  xml_notebook.cpp
Use 'alert' facility instead of direct wxLog calls.

20051127T0140Z <chicares@cox.net> [1227]

  xml_notebook.cpp
  xml_notebook.hpp
  xml_notebook.tpp [new file]
Import selected changes from skeleton branch.

20051128T1748Z <wboutin@massmutual.com> [1227]

  mingw_setup.make
  xml_notebook_single_premium.xrc
Improve conformance.

20051129T1400Z <chicares@cox.net> [1223]

  input.cpp
  input.hpp
Improve documentation.

  xml_notebook.cpp
  xml_notebook.hpp
  xml_notebook.tpp
Import selected changes from skeleton branch.

20051129T1837Z <wboutin@massmutual.com> [1223]

  xml_notebook.xrc
Fix defect #14006.

20051130T0136Z <chicares@cox.net> [1223]

  main_wx.hpp
Remove unnecessary virtual inheritance.

  xml_notebook.cpp
Fix keyboard navigation error by ensuring that some window always has
focus.

20051201T0406Z <chicares@cox.net> [1223]

  census_document.cpp
  census_document.hpp
  census_view.cpp
  census_view.hpp
  illustration_document.cpp
  illustration_document.hpp
  illustration_view.cpp
  illustration_view.hpp
  main_wx.cpp
  text_doc.cpp
  text_doc.hpp
  xml_notebook.cpp
  xml_notebook.hpp
Replace wxList::compatibility_iterator.

20051202T0518Z <chicares@cox.net> [1223]

  xml_notebook.cpp
  xml_notebook.hpp
Ensure optimal focus.

20051202T0600Z <chicares@cox.net> [1223]

  docmdichildframe_ex.cpp
Fix the 'Window' menu, experimentally. More research is needed to
determine whether this entire file and its header should be expunged.

20051202T0600Z <chicares@cox.net> [1223]

  map_lookup.hpp      [new file]
  map_lookup_test.cpp [new file]
  objects.make
  xml_notebook.cpp
Import selected changes from skeleton branch.

20051202T2244Z <chicares@cox.net> [1221]

  text_doc.cpp
  text_doc.hpp
  view_ex.tpp [new file]
Import selected changes from skeleton branch.

  census_document.cpp
  census_document.hpp
  illustration_document.cpp
  illustration_document.hpp
  illustration_view.cpp
Refactor.

20051205T1541Z <wboutin@massmutual.com> [1220]

  GNUmakefile
  msw_cygwin.make
  msw_generic.make
  msw_msys.make
  posix_fhs.make
Add xmllint.

20051205T1750Z <chicares@cox.net> [1220]

  workhorse.make
Import selected changes from skeleton branch.

20051207T0413Z <chicares@cox.net> [1217]

  getopt.cpp
  getopt.hpp
Import selected changes from skeleton branch: generalize usage().

  argv0_test.cpp
  main_wx.cpp
  main_wx.hpp
Remove nonstandard '__arg[cv]'.

20051207T0428Z <chicares@cox.net> [1217]

  illustration_view.cpp
Include a required header.

  alert_wx.cpp
  security.cpp
Document reason for including a header.

20051207T0443Z <chicares@cox.net> [1216]

  alert_wx.cpp
Resolve gratuitous differences from skeleton branch.

20051207T0516Z <chicares@cox.net> [1216]

  main_wx.cpp
  main_wx.hpp
Rename class to facilitate comparison to skeleton branch.

20051207T1512Z <chicares@cox.net> [1216]

  workhorse.make
Prevent a spurious error message.

  mingw_setup.make
Review.

  msw_cygwin.make
  msw_generic.make
  msw_msys.make
  posix_fhs.make
Conform to FHS-2.2 3.4.3, reverting the 20050618T0446Z change:
  "Expect 'tar' in /usr/bin/, not in /bin/ [FHS-2.2, 3.4.2]."
because FHS-2.2 3.4.3 explicitly requires 'tar' in /bin/. Treat 'gzip'
the same way for the same reason. Fix weird definitions of 'date',
'patch', and 'wget'.

20051207T1649Z <chicares@cox.net> [1215]

  transferor.hpp
Revise documentation.

20051207T1656Z <chicares@cox.net> [1215]

  wx_workarounds.hpp
  xml_notebook.tpp
Import selected changes from skeleton branch.

20051207T1824Z <chicares@cox.net> [1215]

  transferor.cpp
Fix defect #13333.

20051209T0504Z <chicares@cox.net> [1215]

  workhorse.make
Revert erroneous 20051207T1512Z change.

20051211T0854Z <chicares@cox.net> [1214]

  main_wx.cpp
  workhorse.make
Relocate '.xrc' and '.xpm' files to data directory.

20051211T1407Z <chicares@cox.net> [1214]

  main_wx.cpp
Refactor.

20051211T1418Z <chicares@cox.net> [1214]

  main_wx.cpp
Unconditionally resume when exception caught in main loop.

20051211T1501Z <chicares@cox.net> [1214]

  main_wx.cpp
Refactor.

20051211T2124Z <chicares@cox.net> [1213]

  alert.cpp
  alert.hpp
  alert_cli.cpp
  alert_test.cpp
Import selected changes from skeleton branch.

20051212T0120Z <chicares@cox.net> [1213]

  so_attributes.hpp [new file]
Import header with shared-library macros from skeleton branch. It will
replace 'expimp.hpp' eventually.

20051212T0436Z <chicares@cox.net> [1213]

  alert.cpp
  alert.hpp
  alert_cgi.cpp
  alert_cli.cpp
  alert_test.cpp
  alert_wx.cpp
Add safely_show_message().

20051212T1757Z <chicares@cox.net> [1212]

  alert.cpp
  alert.hpp
  group_values.cpp
  illustration_view.cpp
  main_common_non_wx.cpp
  main_wx.cpp
Refactor.

  mc_enum_test.cpp
Include only appropriate headers.

  ihs_server7702.cpp
  main_cli.cpp
  tn_range.tpp
  tn_range_test.cpp
  xml_notebook.cpp
  xrange.hpp
  xrange_test.cpp
Include <exception> iff appropriate.

20051213T0006Z <chicares@cox.net> [1212]

  alert.cpp
  illustration_view.cpp
Correct two errors committed 20051212T1757Z. With these changes, a
static build, i.e.,
  /opt/lmi/bin[0]$./lmi_wx_static --data_path=/opt/lmi/data
works--all the tests hidden on its "Text" menu run correctly--but an
msw dll build abends on tests that throw an exception, because most
exceptions (in the tests, and in practice) cross a dll boundary.

20051213T0443Z <chicares@cox.net> [1212]

  xml_notebook.xrc
Fix some obvious shortcomings. Fields denoting months are deliberately
not constrained to [0, 11], however, even though that could be done
here. Reason: limiting the range for numeric fields generically is an
unimplemented feature that must be implemented in the program rather
than in the xml, and making it appear that this feature has already
been implemented for a few fields is at best a waste of effort and at
worst deceptive. We should erect no Potemkin villages.

  ihs_irc7702a.cpp
Hastily replace an obviously incorrect calculation with another that's
not known to be incorrect, in order to meet an urgent business need.

20051214T2256Z <chicares@cox.net> [1212]

  alert.cpp
  alert.hpp
  alert_cgi.cpp
  alert_cli.cpp
  alert_wx.cpp
Refactor. The problem noted 20051213T0006Z remains: for instance,
  File | New | Text
  Test | ...shared... | ...standard exception
still abends. These changes represent incremental progress only.

20051215T0140Z <chicares@cox.net> [1212]

  armor.hpp      [new file]
  armor_test.cpp [new file]
  objects.make
Refactor, leaving a latent error in place.

20051215T0146Z <chicares@cox.net> [1212]

  armor_test.cpp
Demonstrate the defect mentioned 20051215T0140Z.

20051215T0156Z <chicares@cox.net> [1212]

  alert.cpp
  armor.hpp
  armor_test.cpp
Remove the defect mentioned 20051215T0140Z.

20051215T0246Z <chicares@cox.net> [1212]

  armor.hpp
Improve documentation.

  alert.cpp
  alert.hpp
  group_values.cpp
  illustration_view.cpp
  main_common_non_wx.cpp
  main_wx.cpp
Refactor, exposing a latent problem.

20051215T1325Z <chicares@cox.net> [1210]

  input_test.cpp
  main_common.cpp
  main_common_non_wx.cpp
  main_wx.cpp
Refactor.

20051215T1513Z <chicares@cox.net> [1209]

  alert_cgi.cpp
  alert_cli.cpp
Explicitly flush stderr for presumably-crucial messages.

  numeric_io_traits.hpp
Include appropriate headers.

  test_tools.hpp
Include <cstdlib> for EXIT_SUCCESS and EXIT_FAILURE.

  main_cli.cpp
Regularize exception handling.

20051215T1540Z <chicares@cox.net> [1208]

  main_common_non_wx.cpp
Withdraw a comment.

  fenv_lmi.cpp
Improve safety.

  main_wx.cpp
Remove a simulated error after confirming that simulating replaced
behavior does not cause an error. This fixed the problem noted
20051213T0006Z.

20051216T1102Z <chicares@cox.net> [1208]

  generate_passkey.cpp
  passkey_test.cpp
  secure_date.cpp
  secure_date.hpp
  security.cpp
Rewrite security validation, making sure diagnostics are displayed.

20051216T1314Z <chicares@cox.net> [1208]

  ihs_pios.hpp
  tn_range.hpp
Add virtual dtors.

